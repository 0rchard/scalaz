<?xml version="1.0" encoding="utf-8"?>
			<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
    <head>
        <meta http-equiv="Content-Type" content="text/html;charset=utf-8" ></meta>
        <title>scalaz/EphemeralStream.scala</title>
        <script type="text/javascript" src="../jquery-all.js"></script>
        <script type="text/javascript" src="../linked.js"></script>
        <link rel="stylesheet" type="text/css" href="../style.css" title="Style"></link>
    </head>
    <body>
        <pre>
<span class="keyword">package</span> scalaz

<span class="keyword">import</span> <a href="Scalaz.scala.html#19020" title="object scalaz.Scalaz">Scalaz</a>._
<span class="keyword">import</span> java.lang.ref.WeakReference

<span class="keyword">object</span> <a title="object scalaz.EphemeralStream" id="10923">EphemeralStream</a> <span title="ScalaObject">{</span>
  <span class="keyword">val</span> <a title="&lt;refinement&gt; extends java.lang.Object with scalaz.EphemeralStream[scalaz.Scalaz.⊥]" id="44038">empty</a> = <a href="#118974" title="java.lang.Object with scalaz.EphemeralStream[scalaz.Scalaz.⊥]" class="keyword">new</a> <a title="anonymous class $anon extends java.lang.Object with scalaz.EphemeralStream[scalaz.Scalaz.⊥]" id="118974">EphemeralStream</a>[⊥] {
    <span class="keyword">def</span> <a title="=&gt; Boolean" id="118976">isEmpty</a> = <span title="Boolean(true)" class="keyword">true</span>
    <span class="keyword">def</span> <a title="=&gt; () =&gt; scalaz.Scalaz.⊥" id="118977">head</a>: () =&gt; ⊥ = () =&gt; <span title="(message: String)Nothing">error</span>(<span title="java.lang.String(&quot;head of empty stream&quot;)" class="string">&quot;head of empty stream&quot;</span>)
    <span class="keyword">def</span> <a title="=&gt; () =&gt; scalaz.Scalaz.⊥" id="118978">tail</a>: () =&gt; ⊥ = () =&gt; <span title="(message: String)Nothing">error</span>(<span title="java.lang.String(&quot;tail of empty stream&quot;)" class="string">&quot;tail of empty stream&quot;</span>)
  }

  <span class="keyword">object</span> <a title="object scalaz.EphemeralStream.cons" id="44040">cons</a> <span title="ScalaObject">{</span>
    <span class="keyword">def</span> <a title="[A](a: =&gt; A,as: =&gt; scalaz.EphemeralStream[A])java.lang.Object with scalaz.EphemeralStream[A]" id="119013">apply</a>[<a title="&gt;: Nothing &lt;: Any" id="119015">A</a>](<a title="=&gt; A" id="119018">a</a>: =&gt; A, <a title="=&gt; scalaz.EphemeralStream[A]" id="119019">as</a>: =&gt; EphemeralStream[A]) = <a href="#119022" title="java.lang.Object with scalaz.EphemeralStream[A]{}" class="keyword">new</a> <a title="anonymous class $anon extends java.lang.Object with scalaz.EphemeralStream[A]" id="119022">EphemeralStream</a>[A] {
      <span class="keyword">def</span> <a title="=&gt; Boolean" id="119024">isEmpty</a> = <span title="Boolean(false)" class="keyword">false</span>
      <span class="keyword">val</span> <a title="() =&gt; A" id="119025">head</a> = <a href="#44064" title="(f: =&gt; A)() =&gt; A">weakMemo</a>(<a href="#119018" title="=&gt; A">a</a>)
      <span class="keyword">val</span> <a title="() =&gt; scalaz.EphemeralStream[A]" id="119027">tail</a> = <a href="#44064" title="(f: =&gt; scalaz.EphemeralStream[A])() =&gt; scalaz.EphemeralStream[A]">weakMemo</a>(<a href="#119019" title="=&gt; scalaz.EphemeralStream[A]">as</a>)
    }
  }

  <span class="keyword">def</span> <a title="[A](as: A*)scalaz.EphemeralStream[A]" id="44042">apply</a>[<a title="&gt;: Nothing &lt;: Any" id="44044">A</a>](<a title="A*" id="119060">as</a>: <a title="A*" id="7595">A</a>*): <a href="#10922" title="scalaz.EphemeralStream[A]">EphemeralStream</a>[A] =
    <a href="#44049" title="(b: =&gt; Int,f: (Int) =&gt; Option[(A, Int)])scalaz.EphemeralStream[A]">unfold</a>(<span title="Int(0)" class="int">0</span>, (b: <span title="Int">Int</span>) =&gt;
      <span title="Option[(A, Int)]" class="keyword">if</span> (<a href="#119073" title="(x$1: Int)Boolean" id="5128">b</a> &lt; <a href="#119060" title="A*">as</a>.<a title="=&gt; Int" id="28725">size</a>) <span title="(x: (A, Int))Some[(A, Int)]">Some</span>(<span title="(_1: A,_2: Int)(A, Int)">(</span><a href="#119060" title="(idx: Int)A" id="28721">as</a>(<a href="#119073" title="Int">b</a>), <a href="#119073" title="(x$1: Int)Int">b</a> + <span title="Int(1)" class="int">1</span>))
      <span class="keyword">else</span> <span title="object None">None</span>)

  <span class="keyword">implicit</span> <span class="keyword">val</span> <a title="scalaz.Pure[scalaz.EphemeralStream]" id="44045">ephemeralStreamPure</a>: <a href="Pure.scala.html#18839" title="scalaz.Pure[scalaz.EphemeralStream]">Pure</a>[EphemeralStream] = <a href="#119127" title="java.lang.Object with scalaz.Pure[scalaz.EphemeralStream]" class="keyword">new</a> <a title="anonymous class $anon extends java.lang.Object with scalaz.Pure[scalaz.EphemeralStream]" id="119127">Pure</a>[EphemeralStream] {
    <span class="keyword">def</span> <a title="[A](a: =&gt; A)scalaz.EphemeralStream[A]" id="119131">pure</a>[<a title="&gt;: Nothing &lt;: Any" id="119133">A</a>](<a title="=&gt; A" id="119134">a</a>: =&gt; A) = <a href="#44042" title="(as: A*)scalaz.EphemeralStream[A]">EphemeralStream</a>(<a href="#119134" title="=&gt; A">a</a>)
  }

  <span class="keyword">implicit</span> <span class="keyword">val</span> <a title="scalaz.Bind[scalaz.EphemeralStream]" id="44047">ephemeralStreamBind</a>: <a href="Bind.scala.html#9854" title="scalaz.Bind[scalaz.EphemeralStream]">Bind</a>[EphemeralStream] = <a href="#119154" title="java.lang.Object with scalaz.Bind[scalaz.EphemeralStream]" class="keyword">new</a> <a title="anonymous class $anon extends java.lang.Object with scalaz.Bind[scalaz.EphemeralStream]" id="119154">Bind</a>[EphemeralStream] {
    <span class="keyword">def</span> <a title="[A, B](a: scalaz.EphemeralStream[A],f: (A) =&gt; scalaz.EphemeralStream[B])scalaz.EphemeralStream[B]" id="119158">bind</a>[<a title="&gt;: Nothing &lt;: Any" id="119161">A</a>, <a title="&gt;: Nothing &lt;: Any" id="119162">B</a>](<a title="scalaz.EphemeralStream[A]" id="119163">a</a>: <a href="#10922" title="scalaz.EphemeralStream[A]">EphemeralStream</a>[A], <a title="(A) =&gt; scalaz.EphemeralStream[B]" id="119164">f</a>: A =&gt; EphemeralStream[B]) =
      <a href="#119163" title="scalaz.EphemeralStream[A]">a</a>.<a href="#43947" title="(f: (A) =&gt; scalaz.EphemeralStream[B])scalaz.EphemeralStream[B]">flatMap</a>(<a href="#119164" title="(A) =&gt; scalaz.EphemeralStream[B]">f</a>)
  }

  <span class="keyword">def</span> <a title="[A, B](b: =&gt; B,f: (B) =&gt; Option[(A, B)])scalaz.EphemeralStream[A]" id="44049">unfold</a>[<a title="&gt;: Nothing &lt;: Any" id="44052">A</a>, <a title="&gt;: Nothing &lt;: Any" id="44053">B</a>](<a title="=&gt; B" id="119063">b</a>: =&gt; B, <a title="(B) =&gt; Option[(A, B)]" id="119064">f</a>: B =&gt; Option[(A, B)]): <a href="#10922" title="scalaz.EphemeralStream[A]">EphemeralStream</a>[A] =
    <a href="#119064" title="(v1: B)Option[(A, B)]">f</a>(<a href="#119063" title="=&gt; B">b</a>) <span title="scalaz.EphemeralStream[A]" class="keyword">match</span> {
      <span title="&lt;refinement&gt; extends java.lang.Object with scalaz.EphemeralStream[scalaz.Scalaz.⊥]" class="keyword">case</span> <span title="object None">None</span> =&gt; <a href="#44038" title="=&gt; &lt;refinement&gt; extends java.lang.Object with scalaz.EphemeralStream[scalaz.Scalaz.⊥]">empty</a>
      <span title="&lt;refinement&gt; extends java.lang.Object with scalaz.EphemeralStream[A]" class="keyword">case</span> Some((<a title="A" id="119204">a</a>, <a title="B" id="119205">r</a>)) =&gt; <a href="#119013" title="(a: =&gt; A,as: =&gt; scalaz.EphemeralStream[A])java.lang.Object with scalaz.EphemeralStream[A]">cons</a>(<a href="#119204" title="A">a</a>, <a href="#44049" title="(b: =&gt; B,f: (B) =&gt; Option[(A, B)])scalaz.EphemeralStream[A]">unfold</a>(<a href="#119205" title="B">r</a>, <a href="#119064" title="(B) =&gt; Option[(A, B)]">f</a>))
    }

  <span class="keyword">def</span> <a title="[A](start: A)(f: (A) =&gt; A)scalaz.EphemeralStream[A]" id="44054">iterate</a>[<a title="&gt;: Nothing &lt;: Any" id="44056">A</a>](<a title="A" id="119225">start</a>: <a href="#44056" title="A">A</a>)(<a title="(A) =&gt; A" id="119226">f</a>: A =&gt; A): <a href="#10922" title="scalaz.EphemeralStream[A]">EphemeralStream</a>[A] =
    <a href="#44049" title="(b: =&gt; A,f: (A) =&gt; Option[(A, A)])scalaz.EphemeralStream[A]">unfold</a>(<a href="#119225" title="A">start</a>, (a: <a href="#44056" title="A">A</a>) =&gt; {
      <span class="keyword">val</span> <a title="A" id="119236">fa</a> = <a href="#119226" title="(v1: A)A">f</a>(<a href="#119235" title="A">a</a>)
      <span title="(x: (A, A))Some[(A, A)]">Some</span>(<span title="(_1: A,_2: A)(A, A)">(</span><a href="#119236" title="A">fa</a>, <a href="#119236" title="A">fa</a>))
    })

  <span class="keyword">def</span> <a title="(lower: Int,upper: Int)scalaz.EphemeralStream[Int]" id="44057">range</a>(<a title="Int" id="119253">lower</a>: <span title="Int">Int</span>, <a title="Int" id="119254">upper</a>: <span title="Int">Int</span>): <a href="#10922" title="scalaz.EphemeralStream[Int]">EphemeralStream</a>[Int] =
    <span title="scalaz.EphemeralStream[Int]" class="keyword">if</span> (<a href="#119253" title="(x$1: Int)Boolean" id="5134">lower</a> &gt;= <a href="#119254" title="Int">upper</a>) <a href="#44038" title="=&gt; &lt;refinement&gt; extends java.lang.Object with scalaz.EphemeralStream[scalaz.Scalaz.⊥]">empty</a> <span class="keyword">else</span> <a href="#119013" title="(a: =&gt; Int,as: =&gt; scalaz.EphemeralStream[Int])java.lang.Object with scalaz.EphemeralStream[Int]">cons</a>(<a href="#119253" title="Int">lower</a>, <a href="#44057" title="(lower: Int,upper: Int)scalaz.EphemeralStream[Int]">range</a>(<a href="#119253" title="(x$1: Int)Int">lower</a> + <span title="Int(1)" class="int">1</span>, <a href="#119254" title="Int">upper</a>))

  <span class="keyword">def</span> <a title="[A](s: =&gt; Stream[A])scalaz.EphemeralStream[A]" id="44058">fromStream</a>[<a title="&gt;: Nothing &lt;: Any" id="44060">A</a>](<a title="=&gt; Stream[A]" id="119464">s</a>: =&gt; Stream[A]): <a href="#10922" title="scalaz.EphemeralStream[A]">EphemeralStream</a>[A] = <a href="#119464" title="=&gt; Stream[A]">s</a> <span title="scalaz.EphemeralStream[A]" class="keyword">match</span> {
    <span title="&lt;refinement&gt; extends java.lang.Object with scalaz.EphemeralStream[scalaz.Scalaz.⊥]" class="keyword">case</span> <a href="#119469" title="(x: scala.collection.immutable.Stream[A])Some[scala.collection.immutable.Stream[A]]" id="3194">Stream</a>() =&gt; <a href="#44038" title="=&gt; &lt;refinement&gt; extends java.lang.Object with scalaz.EphemeralStream[scalaz.Scalaz.⊥]">empty</a>
    <span title="&lt;refinement&gt; extends java.lang.Object with scalaz.EphemeralStream[A]" class="keyword">case</span> <a title="A" id="119496">h</a> <a href="#119483" title="(xs: scala.collection.immutable.Stream[A])Option[(A, scala.collection.immutable.Stream[A])]" id="3196">#::</a> <a title="scala.collection.immutable.Stream[A]" id="119497">t</a> =&gt; <a href="#119013" title="(a: =&gt; A,as: =&gt; scalaz.EphemeralStream[A])java.lang.Object with scalaz.EphemeralStream[A]">cons</a>(<a href="#119496" title="A">h</a>, <a href="#44058" title="(s: =&gt; Stream[A])scalaz.EphemeralStream[A]">fromStream</a>(<a href="#119497" title="scala.collection.immutable.Stream[A]">t</a>))
  }

  <span class="keyword">implicit</span> <span class="keyword">def</span> <a title="[A](e: scalaz.EphemeralStream[A])Iterable[A]" id="44061">toIterable</a>[<a title="&gt;: Nothing &lt;: Any" id="44063">A</a>](<a title="scalaz.EphemeralStream[A]" id="44238">e</a>: <a href="#10922" title="scalaz.EphemeralStream[A]">EphemeralStream</a>[A]): <a title="Iterable[A]" id="8014">Iterable</a>[A] = <a href="#119515" title="java.lang.Object with Iterable[A]" class="keyword">new</a> <a title="anonymous class $anon extends java.lang.Object with Iterable[A]" id="119515">Iterable</a>[A] {
    <span class="keyword">def</span> <a title="=&gt; &lt;refinement&gt; extends java.lang.Object with Iterator[A]" id="119622">iterator</a> = <a href="#119638" title="java.lang.Object with Iterator[A]{}" class="keyword">new</a> <a title="anonymous class $anon extends java.lang.Object with Iterator[A]" id="119638">Iterator</a>[A] {
      <span class="keyword">var</span> <a title="scalaz.EphemeralStream[A]" id="119677">cur</a> = <a href="#44238" title="scalaz.EphemeralStream[A]">e</a>
      <span class="keyword">def</span> <a title="()A" id="119679">next</a> = {
        <span class="keyword">val</span> <a title="A" id="119684">t</a> = <a href="#119677" title="=&gt; scalaz.EphemeralStream[A]">cur</a>.<a href="#43933" title="()A">head</a>()
        <a href="#119677" title="(x$1: scalaz.EphemeralStream[A])Unit">cur</a> = <a href="#119677" title="=&gt; scalaz.EphemeralStream[A]">cur</a>.<a href="#43934" title="()scalaz.EphemeralStream[A]">tail</a>()
        <a href="#119684" title="A">t</a>
      }
      <span class="keyword">def</span> <a title="=&gt; Boolean" id="119680">hasNext</a> = <span title="=&gt; Boolean">!</span><a href="#119677" title="=&gt; scalaz.EphemeralStream[A]">cur</a>.<a href="#43932" title="=&gt; Boolean">isEmpty</a>
    }
  }

  <span class="keyword">def</span> <a title="[V](f: =&gt; V)() =&gt; V" id="44064">weakMemo</a>[<a title="&gt;: Nothing &lt;: Any" id="44066">V</a>](<a title="=&gt; V" id="119032">f</a>: =&gt; V): () =&gt; V = {
    <span class="keyword">val</span> <a title="java.lang.Object" id="119708">latch</a> = <span title="java.lang.Object" class="keyword">new</span> <a title="java.lang.Object" id="2449">Object</a>
    @volatile <span class="keyword">var</span> <a title="Option[java.lang.ref.WeakReference[V]]" id="119709">v</a>: <a title="Option[java.lang.ref.WeakReference[V]]" id="1263">Option</a>[WeakReference[V]] = <span title="object None">None</span>
    () =&gt; {
      <span class="keyword">val</span> <a title="Option[V]" id="119756">a</a> = <a href="#119709" title="Option[java.lang.ref.WeakReference[V]]">v</a>.<a title="(f: (java.lang.ref.WeakReference[V]) =&gt; V)Option[V]" id="38383">map</a>(<a title="java.lang.ref.WeakReference[V]" id="119761">x</a> =&gt; <a href="#119761" title="java.lang.ref.WeakReference[V]">x</a>.<a title="()V" id="119734">get</a>)
      <span title="V" class="keyword">if</span> (<a href="#119756" title="Option[V]">a</a>.<a title="(x$1: Boolean)Boolean" id="38375">isDefined</a> &amp;&amp; <a href="#119756" title="Option[V]">a</a>.<a title="(x$1: Any)Boolean" id="5788">get</a> != <span title="Null(null)" class="keyword">null</span>) <a href="#119756" title="Option[V]">a</a>.<span title="=&gt; V">get</span> <span class="keyword">else</span> <a href="#119708" title="java.lang.Object">latch</a>.<a title="(x$1: V)V" id="5827">synchronized</a> {
        <span class="keyword">val</span> <a title="V" id="119769">x</a> = <a href="#119032" title="=&gt; V">f</a>
        <a href="#119709" title="Option[java.lang.ref.WeakReference[V]]">v</a> = <span title="(x: java.lang.ref.WeakReference[V])Some[java.lang.ref.WeakReference[V]]">Some</span>(<span title="java.lang.ref.WeakReference[V]" class="keyword">new</span> <a title="java.lang.ref.WeakReference[V]" id="118961">WeakReference</a>(<a href="#119769" title="V">x</a>))
        <a href="#119769" title="V">x</a>
      }
    }
  }

}

<span class="keyword">sealed</span> <span class="keyword">trait</span> <a title="trait EphemeralStream[+A] extends java.lang.Object with ScalaObject" id="10922">EphemeralStream</a>[+<a title="&gt;: Nothing &lt;: Any" id="21538">A</a>] <span title="ScalaObject">{</span>
  <span class="keyword">import</span> <a href="#10923" title="object scalaz.EphemeralStream">EphemeralStream</a>._
  <span class="keyword">import</span> <a href="Scalaz.scala.html#19020" title="object scalaz.Scalaz">Scalaz</a>._

  <span class="keyword">def</span> <a title="=&gt; Boolean" id="43932">isEmpty</a>: <a title="Boolean" id="3781">Boolean</a>
  <span class="keyword">def</span> <a title="=&gt; () =&gt; A" id="43933">head</a>: () =&gt; A
  <span class="keyword">def</span> <a title="=&gt; () =&gt; scalaz.EphemeralStream[A]" id="43934">tail</a>: () =&gt; EphemeralStream[A]
  <span class="keyword">def</span> <a title="=&gt; List[A]" id="43935">toList</a>: <a title="List[A]" id="29298">List</a>[A] = {
    <span class="keyword">def</span> <a title="(xs: =&gt; List[A])(x: =&gt; A)List[A]" id="119819">lcons</a>(<a title="=&gt; List[A]" id="119820">xs</a>: =&gt; List[A])(<a title="=&gt; A" id="119821">x</a>: =&gt; A) = <a href="#119821" title="=&gt; A">x</a> <a href="#119822" title="A">::</a> <a href="#119820" title="(x: A)List[A]" id="32596">xs</a>
    <a href="#43939" title="(z: =&gt; List[A])(f: (=&gt; List[A]) =&gt; (=&gt; A) =&gt; List[A])List[A]">foldLeft</a>(<a href="ListW.scala.html#34175" title="[A]List[A]">nil</a><span title="List[A]">[</span><a href="#21538" title="A">A</a>])(<a href="#119819" title="(xs: =&gt; List[A])(x: =&gt; A)List[A]">lcons</a> _).<a title="=&gt; List[A]" id="32636">reverse</a>
  }

  <span class="keyword">def</span> <a title="[B](z: =&gt; B)(f: (=&gt; A) =&gt; (=&gt; B) =&gt; B)B" id="43936">foldRight</a>[<a title="&gt;: Nothing &lt;: Any" id="43938">B</a>](<a title="=&gt; B" id="119858">z</a>: =&gt; B)(<a title="(=&gt; A) =&gt; (=&gt; B) =&gt; B" id="119859">f</a>: (=&gt; A) =&gt; (=&gt; B) =&gt; B): <a href="#43938" title="B">B</a> =
    <span title="B" class="keyword">if</span> (<a href="#43932" title="=&gt; Boolean">isEmpty</a>) <a href="#119858" title="=&gt; B">z</a> <span class="keyword">else</span> <a href="#119859" title="(v1: =&gt; A)(=&gt; B) =&gt; B">f</a><span title="(v1: =&gt; B)B">(</span><a href="#43933" title="()A">head</a>())(<a href="#43934" title="()scalaz.EphemeralStream[A]">tail</a>().<a href="#43936" title="(z: =&gt; B)(f: (=&gt; A) =&gt; (=&gt; B) =&gt; B)B">foldRight</a>(<a href="#119858" title="=&gt; B">z</a>)(<a href="#119859" title="(=&gt; A) =&gt; (=&gt; B) =&gt; B">f</a>))

  <span class="keyword">def</span> <a title="[B](z: =&gt; B)(f: (=&gt; B) =&gt; (=&gt; A) =&gt; B)B" id="43939">foldLeft</a>[<a title="&gt;: Nothing &lt;: Any" id="43941">B</a>](<a title="=&gt; B" id="119829">z</a>: =&gt; B)(<a title="(=&gt; B) =&gt; (=&gt; A) =&gt; B" id="119830">f</a>: (=&gt; B) =&gt; (=&gt; A) =&gt; B): <a href="#43941" title="B">B</a> = {
    <span class="keyword">var</span> <a title="scalaz.EphemeralStream[A]" id="119878">t</a> = <a href="#10922" title="scalaz.EphemeralStream[A]" class="keyword">this</a>
    <span class="keyword">var</span> <a title="B" id="119879">acc</a> = <a href="#119829" title="=&gt; B">z</a>
    <span title="Unit" class="keyword">while</span> (<span title="=&gt; Boolean">!</span><a href="#119878" title="scalaz.EphemeralStream[A]">t</a>.<a href="#43932" title="=&gt; Boolean">isEmpty</a>) {
      <a href="#119879" title="B">acc</a> = <a href="#119830" title="(v1: =&gt; B)(=&gt; A) =&gt; B">f</a><span title="(v1: =&gt; A)B">(</span><a href="#119879" title="B">acc</a>)(<a href="#119878" title="scalaz.EphemeralStream[A]">t</a>.<a href="#43933" title="()A">head</a>())
      <a href="#119878" title="scalaz.EphemeralStream[A]">t</a> = <a href="#119878" title="scalaz.EphemeralStream[A]">t</a>.<a href="#43934" title="()scalaz.EphemeralStream[A]">tail</a>()
    }
    <a href="#119879" title="B">acc</a>
  }

  <span class="keyword">def</span> <a title="(p: (A) =&gt; Boolean)scalaz.EphemeralStream[A]" id="43942">filter</a>(<a title="(A) =&gt; Boolean" id="119888">p</a>: A =&gt; Boolean): <a href="#10922" title="scalaz.EphemeralStream[A]">EphemeralStream</a>[A] = {
    <span class="keyword">var</span> <a title="scalaz.EphemeralStream[A]" id="119890">rest</a> = <a href="#43943" title="(p: (A) =&gt; Boolean)scalaz.EphemeralStream[A]" class="keyword">this</a> dropWhile (<span title="=&gt; Boolean">!</span><a href="#119888" title="(v1: A)Boolean">p</a>(<a href="#119894" title="A">_</a>))
    <span title="scalaz.EphemeralStream[A]" class="keyword">if</span> (<a href="#119890" title="scalaz.EphemeralStream[A]">rest</a>.<a href="#43932" title="=&gt; Boolean">isEmpty</a>) <a href="#44038" title="=&gt; &lt;refinement&gt; extends java.lang.Object with scalaz.EphemeralStream[scalaz.Scalaz.⊥]">empty</a>
    <span class="keyword">else</span> <a href="#119013" title="(a: =&gt; A,as: =&gt; scalaz.EphemeralStream[A])java.lang.Object with scalaz.EphemeralStream[A]">cons</a>(<a href="#119890" title="scalaz.EphemeralStream[A]">rest</a>.<a href="#43933" title="()A">head</a>(), <a href="#119890" title="scalaz.EphemeralStream[A]">rest</a>.<a href="#43934" title="()scalaz.EphemeralStream[A]">tail</a><a href="#43942" title="(p: (A) =&gt; Boolean)scalaz.EphemeralStream[A]">(</a>) filter <a href="#119888" title="(A) =&gt; Boolean">p</a>)
  }

  <span class="keyword">def</span> <a title="(p: (A) =&gt; Boolean)scalaz.EphemeralStream[A]" id="43943">dropWhile</a>(<a title="(A) =&gt; Boolean" id="119891">p</a>: A =&gt; Boolean): <a href="#10922" title="scalaz.EphemeralStream[A]">EphemeralStream</a>[A] = {
    <span class="keyword">var</span> <a title="scalaz.EphemeralStream[A]" id="119911">these</a>: <a href="#10922" title="scalaz.EphemeralStream[A]">EphemeralStream</a>[A] = <a href="#10922" title="scalaz.EphemeralStream[A]" class="keyword">this</a>
    <span title="Unit" class="keyword">while</span> (<span title="(x$1: Boolean)Boolean">!</span><a href="#119911" title="scalaz.EphemeralStream[A]">these</a>.<a href="#43932" title="=&gt; Boolean">isEmpty</a> &amp;&amp; <a href="#119891" title="(v1: A)Boolean">p</a>(<a href="#119911" title="scalaz.EphemeralStream[A]">these</a>.<a href="#43933" title="()A">head</a>())) <a href="#119911" title="scalaz.EphemeralStream[A]">these</a> = <a href="#119911" title="scalaz.EphemeralStream[A]">these</a>.<a href="#43934" title="()scalaz.EphemeralStream[A]">tail</a>()
    <a href="#119911" title="scalaz.EphemeralStream[A]">these</a>
  }

  <span class="keyword">def</span> <a title="[BB &gt;: A](e: =&gt; scalaz.EphemeralStream[BB])scalaz.EphemeralStream[BB]" id="43944">++</a>[<a title="&gt;: A &lt;: Any" id="43946">BB</a> &gt;: A](<a title="=&gt; scalaz.EphemeralStream[BB]" id="119919">e</a>: =&gt; EphemeralStream[BB]): <a href="#10922" title="scalaz.EphemeralStream[BB]">EphemeralStream</a>[BB] =
    <a href="#43936" title="[B](z: =&gt; B)(f: (=&gt; A) =&gt; (=&gt; B) =&gt; B)B">foldRight</a><span title="(z: =&gt; scalaz.EphemeralStream[BB])(f: (=&gt; A) =&gt; (=&gt; scalaz.EphemeralStream[BB]) =&gt; scalaz.EphemeralStream[BB])scalaz.EphemeralStream[BB]">[</span><a href="#10922" title="scalaz.EphemeralStream[BB]">EphemeralStream</a>[BB]](<a href="#119919" title="=&gt; scalaz.EphemeralStream[BB]">e</a>)((<a href="#119013" title="[A](a: =&gt; A,as: =&gt; scalaz.EphemeralStream[A])java.lang.Object with scalaz.EphemeralStream[A]">cons</a><span title="(a: =&gt; BB,as: =&gt; scalaz.EphemeralStream[BB])java.lang.Object with scalaz.EphemeralStream[BB]">[</span><a href="#43946" title="BB">BB</a>](<a href="#119929" title="=&gt; BB">_</a>, <a href="#119930" title="=&gt; scalaz.EphemeralStream[BB]">_</a>)).<a title="=&gt; (=&gt; BB) =&gt; (=&gt; scalaz.EphemeralStream[BB]) =&gt; java.lang.Object with scalaz.EphemeralStream[BB]" id="35425">curried</a>)

  <span class="keyword">def</span> <a title="[B](f: (A) =&gt; scalaz.EphemeralStream[B])scalaz.EphemeralStream[B]" id="43947">flatMap</a>[<a title="&gt;: Nothing &lt;: Any" id="43949">B</a>](<a title="(A) =&gt; scalaz.EphemeralStream[B]" id="119179">f</a>: A =&gt; EphemeralStream[B]): <a href="#10922" title="scalaz.EphemeralStream[B]">EphemeralStream</a>[B] =
    <a href="#43936" title="[B](z: =&gt; B)(f: (=&gt; A) =&gt; (=&gt; B) =&gt; B)B">foldRight</a><span title="(z: =&gt; scalaz.EphemeralStream[B])(f: (=&gt; A) =&gt; (=&gt; scalaz.EphemeralStream[B]) =&gt; scalaz.EphemeralStream[B])scalaz.EphemeralStream[B]">[</span><a href="#10922" title="scalaz.EphemeralStream[B]">EphemeralStream</a>[B]](<a href="#44038" title="=&gt; &lt;refinement&gt; extends java.lang.Object with scalaz.EphemeralStream[scalaz.Scalaz.⊥]">empty</a>)(<a title="=&gt; A" id="119940">h</a> =&gt; <a title="=&gt; scalaz.EphemeralStream[B]" id="119942">t</a> =&gt; <a href="#119179" title="(v1: A)scalaz.EphemeralStream[B]">f</a><a href="#43944" title="(e: =&gt; scalaz.EphemeralStream[B])scalaz.EphemeralStream[B]">(</a><a href="#119940" title="=&gt; A">h</a>) ++ <a href="#119942" title="=&gt; scalaz.EphemeralStream[B]">t</a>)

  <span class="keyword">def</span> <a title="[B](f: (A) =&gt; B)scalaz.EphemeralStream[B]" id="43950">map</a>[<a title="&gt;: Nothing &lt;: Any" id="43952">B</a>](<a title="(A) =&gt; B" id="119952">f</a>: A =&gt; B): <a href="#10922" title="scalaz.EphemeralStream[B]">EphemeralStream</a>[B] =
    <a href="#43947" title="(f: (A) =&gt; scalaz.EphemeralStream[B])scalaz.EphemeralStream[B]">flatMap</a>(<a title="A" id="119958">x</a> =&gt; <a href="#44042" title="(as: B*)scalaz.EphemeralStream[B]">EphemeralStream</a>(<a href="#119952" title="(v1: A)B">f</a>(<a href="#119958" title="A">x</a>)))

  <span class="keyword">def</span> <a title="=&gt; Int" id="43953">length</a> = {
    <span class="keyword">def</span> <a title="(c: =&gt; Int)(a: =&gt; A)Int" id="119970">addOne</a>(<a title="=&gt; Int" id="119971">c</a>: =&gt; Int)(<a title="=&gt; A" id="119972">a</a>: =&gt; A) = <span title="(x$1: Int)Int" class="int">1</span> + <a href="#119971" title="=&gt; Int">c</a>
    <a href="#43939" title="(z: =&gt; Int)(f: (=&gt; Int) =&gt; (=&gt; A) =&gt; Int)Int">foldLeft</a>(<span title="Int(0)" class="int">0</span>)(<a href="#119970" title="(c: =&gt; Int)(a: =&gt; A)Int">addOne</a> _)
  }
}

        </pre>
    </body>
</html>