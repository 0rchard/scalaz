<?xml version="1.0" encoding="utf-8"?>
			<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
    <head>
        <meta http-equiv="Content-Type" content="text/html;charset=utf-8" ></meta>
        <title>scalaz/example/ExampleIteratee.scala</title>
        <script type="text/javascript" src="../../jquery-all.js"></script>
        <script type="text/javascript" src="../../linked.js"></script>
        <link rel="stylesheet" type="text/css" href="../../style.css" title="Style"></link>
    </head>
    <body>
        <pre>
<span class="keyword">package</span> scalaz.example

<span class="keyword">object</span> <a title="object scalaz.example.ExampleIteratee" id="22729">ExampleIteratee</a> <span title="ScalaObject" class="delimiter">{</span>
  <span class="keyword">def</span> <a title="(args: Array[String])Unit" id="553240">main</a><span class="delimiter">(</span><a title="Array[String]" id="848755">args</a>: <span title="Array[String]">Array</span><span class="delimiter">[</span>String<span class="delimiter">]</span><span class="delimiter">)</span> = <a href="#553252" title="=&gt; Unit">run</a>

  <span class="keyword">import</span> scalaz._
  <span class="keyword">import</span> <a href="../Scalaz.scala.html#17982" title="object scalaz.Scalaz">Scalaz</a>._
  <span class="keyword">import</span> <a href="../Iteratee.scala.html#14958" title="object scalaz.IterV">IterV</a>._

  <span class="keyword">implicit</span> <span class="keyword">val</span> <a title="StreamEnumerator extends java.lang.Object with scalaz.Enumerator[Stream]" id="553244">StreamEnumerator</a> = <a href="#847351" title="java.lang.Object with scalaz.Enumerator[Stream]" class="keyword">new</a> <a title="anonymous class $anon extends java.lang.Object with scalaz.Enumerator[Stream]" id="847351">Enumerator</a><span class="delimiter">[</span>Stream<span class="delimiter">]</span> <span class="delimiter">{</span>
    <span class="keyword">def</span> <a title="[E, A](e: Stream[E], i: scalaz.IterV[E,A])scalaz.IterV[E,A]" id="847353">apply</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="847356">E</a>, <a title="&gt;: Nothing &lt;: Any" id="847357">A</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="Stream[E]" id="847358">e</a>: <span title="Stream[E]">Stream</span><span class="delimiter">[</span>E<span class="delimiter">]</span>, <a title="scalaz.IterV[E,A]" id="847359">i</a>: <a href="../Iteratee.scala.html#14957" title="scalaz.IterV[E,A]">IterV</a><span class="delimiter">[</span>E, A<span class="delimiter">]</span><span class="delimiter">)</span>: <a href="../Iteratee.scala.html#14957" title="scalaz.IterV[E,A]">IterV</a><span class="delimiter">[</span>E, A<span class="delimiter">]</span> = <a href="#847358" title="Stream[E]">e</a> <span title="scalaz.IterV[E,A]" class="keyword">match</span> <span class="delimiter">{</span>
      <span class="keyword">case</span> <a href="#847377" title="scalaz.IterV[E,A]">Stream</a><span class="delimiter">(</span><span class="delimiter">)</span> =&gt; <a href="#847359" title="scalaz.IterV[E,A]">i</a>
      <span class="keyword">case</span> <a title="scalaz.IterV[E,A]" id="847414">x</a> <a href="#847401" title="(xs: scala.collection.immutable.Stream[E])Option[(E, scala.collection.immutable.Stream[E])]">#::</a> <a title="scala.collection.immutable.Stream[E]" id="847415">xs</a> =&gt; <a href="#847359" title="scalaz.IterV[E,A]">i</a>.<a href="../Iteratee.scala.html#45986" title="(done: (=&gt; A, =&gt; scalaz.Input[E]) =&gt; scalaz.IterV[E,A], cont: ((scalaz.Input[E]) =&gt; scalaz.IterV[E,A]) =&gt; scalaz.IterV[E,A])scalaz.IterV[E,A]">fold</a><span class="delimiter">(</span>done = <span class="delimiter">(</span><a title="=&gt; A" id="847422">_</a>, <a title="=&gt; scalaz.Input[E]" id="847423">_</a><span title="=&gt; scalaz.Input[E]" class="delimiter">)</span> =&gt; <a href="#847359" title="scalaz.IterV[E,A]">i</a>, cont = <a title="(scalaz.Input[E]) =&gt; scalaz.IterV[E,A]" id="847425">k</a> =&gt; <a href="#847353" title="(e: Stream[E], i: scalaz.IterV[E,A])scalaz.IterV[E,A]">apply</a><span class="delimiter">(</span><a href="#847415" title="scala.collection.immutable.Stream[E]">xs</a>, <a href="#847425" title="(v1: scalaz.Input[E])scalaz.IterV[E,A]">k</a><span class="delimiter">(</span><a href="../Iteratee.scala.html#291498" title="(e0: =&gt; E)scalaz.Input[E]">El</a><span class="delimiter">(</span><a href="#847414" title="E">x</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>

  <span class="keyword">val</span> <a title="scalaz.IterV[Int,List[Int]]" id="553246">list</a> = <a href="../Iteratee.scala.html#45948" title="[A, F[_]](implicit mon: scalaz.Monoid[F[A]], implicit pr: scalaz.Pure[F])scalaz.IterV[A,F[A]]">collect</a><a href="../Monoid.scala.html#101083" title="(implicit mon: scalaz.Monoid[List[Int]], implicit pr: scalaz.Pure[List])scalaz.IterV[Int,List[Int]]" class="delimiter">[</a><span title="Int">Int</span>, <span title="List">List</span><span class="delimiter">]</span>
  <span class="keyword">val</span> <a title="scalaz.IterV[Int,List[Int]]" id="553248">reverse</a> = <a href="../Iteratee.scala.html#45953" title="[A, F[_]](implicit r: scalaz.Reducer[A,F[A]])scalaz.IterV[A,F[A]]">reversed</a><span title="(implicit r: scalaz.Reducer[Int,List[Int]])scalaz.IterV[Int,List[Int]]" class="delimiter">[</span><span title="Int">Int</span>, <span title="List">List</span><span class="delimiter">]</span><span class="delimiter">(</span><a href="../Reducer.scala.html#39223" title="scalaz.Reducer[Int,List[Int]]">ListReducer</a><span class="delimiter">)</span>
  <span class="keyword">val</span> <a title="scalaz.IterV[Int,List[Option[Int]]]" id="553250">repeatHead</a> = <a href="../Iteratee.scala.html#45941" title="[E, A, F[_]](iter: scalaz.IterV[E,A])(implicit mon: scalaz.Monoid[F[A]], implicit pr: scalaz.Pure[F])scalaz.IterV[E,F[A]]">repeat</a><span title="(iter: scalaz.IterV[Int,Option[Int]])(implicit mon: scalaz.Monoid[List[Option[Int]]], implicit pr: scalaz.Pure[List])scalaz.IterV[Int,List[Option[Int]]]" class="delimiter">[</span><span title="Int">Int</span>, <span title="Option[Int]">Option</span><span class="delimiter">[</span>Int<span class="delimiter">]</span>, <span title="List">List</span><span class="delimiter">]</span><a href="../Monoid.scala.html#101083" title="(implicit s: scalaz.Semigroup[List[Option[Int]]], implicit z: scalaz.Zero[List[Option[Int]]])scalaz.Monoid[List[Option[Int]]]" class="delimiter">(</a><a href="../Iteratee.scala.html#45914" title="scalaz.IterV[Int,Option[Int]]">head</a><span class="delimiter">)</span>

  <span class="keyword">def</span> <a title="=&gt; Unit" id="553252">run</a> <span class="delimiter">{</span>
    <a href="../Iteratee.scala.html#45989" title="(f: scala.collection.immutable.Stream[Int])(implicit e: scalaz.Enumerator[scala.collection.immutable.Stream])scalaz.IterV[Int,Option[Int]]">head</a><a href="#553244" title="=&gt; java.lang.Object with scalaz.Enumerator[Stream]" class="delimiter">(</a><span title="(xs: Int*)scala.collection.immutable.Stream[Int]">Stream</span><span class="delimiter">(</span><span title="Int(1)" class="int">1</span>, <span title="Int(2)" class="int">2</span>, <span title="Int(3)" class="int">3</span><span class="delimiter">)</span><span class="delimiter">)</span>.<a href="../Identity.scala.html#38500" title="(x: =&gt; Option[Int])scalaz.Identity[Option[Int]]">run</a> <a href="../Identity.scala.html#46982" title="(b: Some[Int])(implicit e: scalaz.Equal[Option[Int]], implicit s: scalaz.Show[Option[Int]], implicit ev: &lt;:&lt;[Some[Int],Option[Int]])Unit">assert_===</a> <span title="(x: Int)Some[Int]">Some</span><span class="delimiter">(</span><span title="Int(1)" class="int">1</span><span class="delimiter">)</span>
    <a href="../Iteratee.scala.html#45989" title="(f: scala.collection.immutable.Stream[Int])(implicit e: scalaz.Enumerator[scala.collection.immutable.Stream])scalaz.IterV[Int,Int]">length</a><a href="#553244" title="=&gt; java.lang.Object with scalaz.Enumerator[Stream]" class="delimiter">(</a><span title="(xs: Int*)scala.collection.immutable.Stream[Int]">Stream</span><span class="delimiter">(</span><span title="Int(10)" class="int">10</span>, <span title="Int(20)" class="int">20</span>, <span title="Int(30)" class="int">30</span><span class="delimiter">)</span><span class="delimiter">)</span>.<a href="../Identity.scala.html#38500" title="(x: =&gt; Int)scalaz.Identity[Int]">run</a> <a href="../Identity.scala.html#46982" title="(b: Int)(implicit e: scalaz.Equal[Int], implicit s: scalaz.Show[Int], implicit ev: &lt;:&lt;[Int,Int])Unit">assert_===</a> <span title="Int(3)" class="int">3</span>
    <a href="../Iteratee.scala.html#45989" title="(f: scala.collection.immutable.Stream[Int])(implicit e: scalaz.Enumerator[scala.collection.immutable.Stream])scalaz.IterV[Int,Option[Int]]">peek</a><a href="#553244" title="=&gt; java.lang.Object with scalaz.Enumerator[Stream]" class="delimiter">(</a><span title="(xs: Int*)scala.collection.immutable.Stream[Int]">Stream</span><span class="delimiter">(</span><span title="Int(1)" class="int">1</span>, <span title="Int(2)" class="int">2</span>, <span title="Int(3)" class="int">3</span><span class="delimiter">)</span><span class="delimiter">)</span>.<a href="../Identity.scala.html#38500" title="(x: =&gt; Option[Int])scalaz.Identity[Option[Int]]">run</a> <a href="../Identity.scala.html#46982" title="(b: Some[Int])(implicit e: scalaz.Equal[Option[Int]], implicit s: scalaz.Show[Option[Int]], implicit ev: &lt;:&lt;[Some[Int],Option[Int]])Unit">assert_===</a> <span title="(x: Int)Some[Int]">Some</span><span class="delimiter">(</span><span title="Int(1)" class="int">1</span><span class="delimiter">)</span>
    <a href="../Iteratee.scala.html#45989" title="(f: scala.collection.immutable.Stream[Int])(implicit e: scalaz.Enumerator[scala.collection.immutable.Stream])scalaz.IterV[Int,Option[Int]]">head</a><a href="#553244" title="=&gt; java.lang.Object with scalaz.Enumerator[Stream]" class="delimiter">(</a><span title="[A](xs: A*)scala.collection.immutable.Stream[A]">Stream</span><span title="(xs: Int*)scala.collection.immutable.Stream[Int]" class="delimiter">[</span><span title="Int">Int</span><span class="delimiter">]</span><span class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span>.<a href="../Identity.scala.html#38500" title="(x: =&gt; Option[Int])scalaz.Identity[Option[Int]]">run</a> <a href="../Identity.scala.html#46982" title="(b: Option[Int])(implicit e: scalaz.Equal[Option[Int]], implicit s: scalaz.Show[Option[Int]], implicit ev: &lt;:&lt;[Option[Int],Option[Int]])Unit">assert_===</a> <a href="../OptionW.scala.html#39186" title="[A]=&gt; Option[A]">none</a><span title="Option[Int]" class="delimiter">[</span><span title="Int">Int</span><span class="delimiter">]</span>
    <a href="../Iteratee.scala.html#45989" title="(f: scala.collection.immutable.Stream[Int])(implicit e: scalaz.Enumerator[scala.collection.immutable.Stream])scalaz.IterV[Int,List[Int]]">list</a><a href="#553244" title="=&gt; java.lang.Object with scalaz.Enumerator[Stream]" class="delimiter">(</a><span title="(xs: Int*)scala.collection.immutable.Stream[Int]">Stream</span><span class="delimiter">(</span><span title="Int(1)" class="int">1</span>, <span title="Int(2)" class="int">2</span>, <span title="Int(3)" class="int">3</span><span class="delimiter">)</span><span class="delimiter">)</span>.<a href="../Identity.scala.html#38500" title="(x: =&gt; List[Int])scalaz.Identity[List[Int]]">run</a> <a href="../Identity.scala.html#46982" title="(b: List[Int])(implicit e: scalaz.Equal[List[Int]], implicit s: scalaz.Show[List[Int]], implicit ev: &lt;:&lt;[List[Int],List[Int]])Unit">assert_===</a> <span title="(xs: Int*)List[Int]">List</span><span class="delimiter">(</span><span title="Int(1)" class="int">1</span>, <span title="Int(2)" class="int">2</span>, <span title="Int(3)" class="int">3</span><span class="delimiter">)</span>
    <a href="../Iteratee.scala.html#45989" title="(f: scala.collection.immutable.Stream[Int])(implicit e: scalaz.Enumerator[scala.collection.immutable.Stream])scalaz.IterV[Int,List[Option[Int]]]">repeatHead</a><a href="#553244" title="=&gt; java.lang.Object with scalaz.Enumerator[Stream]" class="delimiter">(</a><span title="(xs: Int*)scala.collection.immutable.Stream[Int]">Stream</span><span class="delimiter">(</span><span title="Int(1)" class="int">1</span>, <span title="Int(2)" class="int">2</span>, <span title="Int(3)" class="int">3</span><span class="delimiter">)</span><span class="delimiter">)</span>.<a href="../Identity.scala.html#38500" title="(x: =&gt; List[Option[Int]])scalaz.Identity[List[Option[Int]]]">run</a> <a href="../Identity.scala.html#46982" title="(b: List[Some[Int]])(implicit e: scalaz.Equal[List[Option[Int]]], implicit s: scalaz.Show[List[Option[Int]]], implicit ev: &lt;:&lt;[List[Some[Int]],List[Option[Int]]])Unit">assert_===</a> <span title="(xs: Some[Int]*)List[Some[Int]]">List</span><span class="delimiter">(</span><span title="(x: Int)Some[Int]">Some</span><span class="delimiter">(</span><span title="Int(1)" class="int">1</span><span class="delimiter">)</span>, <span title="(x: Int)Some[Int]">Some</span><span class="delimiter">(</span><span title="Int(2)" class="int">2</span><span class="delimiter">)</span>, <span title="(x: Int)Some[Int]">Some</span><span class="delimiter">(</span><span title="Int(3)" class="int">3</span><span class="delimiter">)</span><span class="delimiter">)</span>
    <a href="../Iteratee.scala.html#45989" title="(f: scala.collection.immutable.Stream[Int])(implicit e: scalaz.Enumerator[scala.collection.immutable.Stream])scalaz.IterV[Int,List[Int]]">reverse</a><a href="#553244" title="=&gt; java.lang.Object with scalaz.Enumerator[Stream]" class="delimiter">(</a><span title="(xs: Int*)scala.collection.immutable.Stream[Int]">Stream</span><span class="delimiter">(</span><span title="Int(1)" class="int">1</span>, <span title="Int(2)" class="int">2</span>, <span title="Int(3)" class="int">3</span><span class="delimiter">)</span><span class="delimiter">)</span>.<a href="../Identity.scala.html#38500" title="(x: =&gt; List[Int])scalaz.Identity[List[Int]]">run</a> <a href="../Identity.scala.html#46982" title="(b: List[Int])(implicit e: scalaz.Equal[List[Int]], implicit s: scalaz.Show[List[Int]], implicit ev: &lt;:&lt;[List[Int],List[Int]])Unit">assert_===</a> <span title="(xs: Int*)List[Int]">List</span><span class="delimiter">(</span><span title="Int(3)" class="int">3</span>, <span title="Int(2)" class="int">2</span>, <span title="Int(1)" class="int">1</span><span class="delimiter">)</span>

    <span class="comment">// As a monad</span>
    <span class="keyword">val</span> <a title="scalaz.IterV[Int,Option[(Int, Int)]]" id="848758">m1</a> = <a href="../Iteratee.scala.html#45914" title="[E]=&gt; scalaz.IterV[E,Option[E]]">head</a><a href="../MA.scala.html#38742" title="(v: scalaz.IterV[Int,Option[Int]])scalaz.MA[[α]scalaz.IterV[Int,α],Option[Int]]" class="delimiter">[</a><span title="Int">Int</span><span class="delimiter">]</span> <a href="../MA.scala.html#63188" title="(f: (Option[Int]) =&gt; scalaz.IterV[Int,Option[(Int, Int)]])(implicit b: scalaz.Bind[[α]scalaz.IterV[Int,α]])scalaz.IterV[Int,Option[(Int, Int)]]">&gt;&gt;=</a> <span class="delimiter">(</span><span class="delimiter">(</span>b:<span title="Option[Int]">Option</span><span class="delimiter">[</span>Int<span class="delimiter">]</span><span class="delimiter">)</span> =&gt; <a href="../Iteratee.scala.html#45914" title="[E]=&gt; scalaz.IterV[E,Option[E]]">head</a><a href="../MA.scala.html#38742" title="(v: scalaz.IterV[Int,Option[Int]])scalaz.MA[[α]scalaz.IterV[Int,α],Option[Int]]" class="delimiter">[</a><span title="Int">Int</span><span class="delimiter">]</span> <a href="../MA.scala.html#63101" title="(f: (Option[Int]) =&gt; Option[(Int, Int)])(implicit t: scalaz.Functor[[α]scalaz.IterV[Int,α]])scalaz.IterV[Int,Option[(Int, Int)]]">map</a> <span class="delimiter">(</span><a title="Option[Int]" id="857136">b2</a> =&gt; <span class="delimiter">(</span><a href="../MA.scala.html#38560" title="(a: Option[Int])scalaz.MA[Option,Int]">b</a> <a href="../MA.scala.html#63151" title="(b: Option[Int])(implicit t: scalaz.Functor[Option], implicit a: scalaz.Apply[Option])Option[(Int, Int)]">&lt;|*|&gt;</a> <a href="#857136" title="Option[Int]">b2</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>
    <a href="../Iteratee.scala.html#45989" title="(f: scala.collection.immutable.Stream[Int])(implicit e: scalaz.Enumerator[scala.collection.immutable.Stream])scalaz.IterV[Int,Option[(Int, Int)]]">m1</a><a href="#553244" title="=&gt; java.lang.Object with scalaz.Enumerator[Stream]" class="delimiter">(</a><span title="(xs: Int*)scala.collection.immutable.Stream[Int]">Stream</span><span class="delimiter">(</span><span title="Int(1)" class="int">1</span>,<span title="Int(2)" class="int">2</span>,<span title="Int(3)" class="int">3</span><span class="delimiter">)</span><span class="delimiter">)</span>.<a href="../Identity.scala.html#38500" title="(x: =&gt; Option[(Int, Int)])scalaz.Identity[Option[(Int, Int)]]">run</a> <a href="../Identity.scala.html#46982" title="(b: Some[(Int, Int)])(implicit e: scalaz.Equal[Option[(Int, Int)]], implicit s: scalaz.Show[Option[(Int, Int)]], implicit ev: &lt;:&lt;[Some[(Int, Int)],Option[(Int, Int)]])Unit">assert_===</a> <span title="(x: (Int, Int))Some[(Int, Int)]">Some</span><span class="delimiter">(</span><span title="(x: Int)ArrowAssoc[Int]" class="int">1</span> <span title="(y: Int)(Int, Int)">-&gt;</span> <span title="Int(2)" class="int">2</span><span class="delimiter">)</span>
    
    
  <span class="delimiter">}</span>
<span class="delimiter">}</span>

        </pre>
    </body>
</html>