<?xml version="1.0" encoding="utf-8"?>
			<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
    <head>
        <meta http-equiv="Content-Type" content="text/html;charset=utf-8" ></meta>
        <title>scalaz/example/ExampleIteratee.scala</title>
        <script type="text/javascript" src="../../jquery-all.js"></script>
        <script type="text/javascript" src="../../linked.js"></script>
        <link rel="stylesheet" type="text/css" href="../../style.css" title="Style"></link>
    </head>
    <body>
        <pre>
<span class="keyword">package</span> scalaz.example

<span class="keyword">object</span> <a title="object scalaz.example.ExampleIteratee" id="24460">ExampleIteratee</a> <span title="ScalaObject" class="delimiter">{</span>
  <span class="keyword">def</span> <a title="(args: Array[String])Unit" id="423179">main</a><span class="delimiter">(</span><a title="Array[String]" id="650345">args</a>: <span title="Array[String]">Array</span><span class="delimiter">[</span>String<span class="delimiter">]</span><span class="delimiter">)</span> = <a href="#423191" title="=&gt; Unit">run</a>

  <span class="keyword">import</span> scalaz._
  <span class="keyword">import</span> <a href="../Scalaz.scala.html#19508" title="object scalaz.Scalaz">Scalaz</a>._
  <span class="keyword">import</span> <a href="../Iteratee.scala.html#16466" title="object scalaz.IterV">IterV</a>._

  <span class="keyword">implicit</span> <span class="keyword">val</span> <a title="StreamEnumerator extends java.lang.Object with scalaz.Enumerator[Stream]" id="423183">StreamEnumerator</a> = <a href="#648947" title="java.lang.Object with scalaz.Enumerator[Stream]" class="keyword">new</a> <a title="anonymous class $anon extends java.lang.Object with scalaz.Enumerator[Stream]" id="648947">Enumerator</a><span class="delimiter">[</span>Stream<span class="delimiter">]</span> <span class="delimiter">{</span>
    @annotation.tailrec <span class="keyword">def</span> <a title="[E, A](e: Stream[E], i: scalaz.IterV[E,A])scalaz.IterV[E,A]" id="648949">apply</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="648952">E</a>, <a title="&gt;: Nothing &lt;: Any" id="648953">A</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="Stream[E]" id="648954">e</a>: <span title="Stream[E]">Stream</span><span class="delimiter">[</span>E<span class="delimiter">]</span>, <a title="scalaz.IterV[E,A]" id="648955">i</a>: <a href="../Iteratee.scala.html#16465" title="scalaz.IterV[E,A]">IterV</a><span class="delimiter">[</span>E, A<span class="delimiter">]</span><span class="delimiter">)</span>: <a href="../Iteratee.scala.html#16465" title="scalaz.IterV[E,A]">IterV</a><span class="delimiter">[</span>E, A<span class="delimiter">]</span> = <span class="delimiter">{</span>
       <span class="keyword">val</span> <a title="Option[(Stream[E], scalaz.IterV[E,A])]" id="648971">next</a>: <span title="Option[(Stream[E], scalaz.IterV[E,A])]">Option</span><span class="delimiter">[</span><span class="delimiter">(</span>Stream<span class="delimiter">[</span>E<span class="delimiter">]</span>, IterV<span class="delimiter">[</span>E, A<span class="delimiter">]</span><span class="delimiter">)</span><span class="delimiter">]</span> = <a href="#648954" title="Stream[E]">e</a> <span title="Option[(Stream[E], scalaz.IterV[E,A])]" class="keyword">match</span> <span class="delimiter">{</span>
         <span class="keyword">case</span> <a href="#648973" title="None.type">Stream</a><span class="delimiter">(</span><span class="delimiter">)</span> =&gt; <span title="object None">None</span>
         <span class="keyword">case</span> <a title="Option[(scala.collection.immutable.Stream[E], scalaz.IterV[E,A])]" id="649008">x</a> <a href="#648996" title="(xs: scala.collection.immutable.Stream[E])Option[(E, scala.collection.immutable.Stream[E])]">#::</a> <a title="scala.collection.immutable.Stream[E]" id="649009">xs</a> =&gt; <a href="#648955" title="scalaz.IterV[E,A]">i</a>.<a href="../Iteratee.scala.html#47476" title="(done: (=&gt; A, =&gt; scalaz.Input[E]) =&gt; Option[(scala.collection.immutable.Stream[E], scalaz.IterV[E,A])], cont: scalaz.Input[E] =&gt; scalaz.IterV[E,A] =&gt; Option[(scala.collection.immutable.Stream[E], scalaz.IterV[E,A])])Option[(scala.collection.immutable.Stream[E], scalaz.IterV[E,A])]">fold</a><span class="delimiter">(</span>done = <span class="delimiter">(</span><a title="=&gt; A" id="649016">_</a>, <a title="=&gt; scalaz.Input[E]" id="649017">_</a><span title="=&gt; scalaz.Input[E]" class="delimiter">)</span> =&gt; <span title="object None">None</span>, cont = <a title="scalaz.Input[E] =&gt; scalaz.IterV[E,A]" id="649019">k</a> =&gt; <a href="../OptionW.scala.html#40776" title="(a: (scala.collection.immutable.Stream[E], scalaz.IterV[E,A]))Option[(scala.collection.immutable.Stream[E], scalaz.IterV[E,A])]">some</a><span class="delimiter">(</span><span title="(_1: scala.collection.immutable.Stream[E], _2: scalaz.IterV[E,A])(scala.collection.immutable.Stream[E], scalaz.IterV[E,A])" class="delimiter">(</span><a href="#649009" title="scala.collection.immutable.Stream[E]">xs</a>, <a href="#649019" title="(v1: scalaz.Input[E])scalaz.IterV[E,A]">k</a><span class="delimiter">(</span><a href="../Iteratee.scala.html#233057" title="(e0: =&gt; E)scalaz.Input[E]">El</a><span class="delimiter">(</span><a href="#649008" title="E">x</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>
       <span class="delimiter">}</span>
       <a href="#648971" title="Option[(Stream[E], scalaz.IterV[E,A])]">next</a> <span title="scalaz.IterV[E,A]" class="keyword">match</span> <span class="delimiter">{</span>
         <span class="keyword">case</span> <span title="scalaz.IterV[E,A]">None</span> =&gt; <a href="#648955" title="scalaz.IterV[E,A]">i</a>
         <span class="keyword">case</span> <span title="scalaz.IterV[E,A]">Some</span><span class="delimiter">(</span><span class="delimiter">(</span><a title="Stream[E]" id="649041">es</a>, <a title="scalaz.IterV[E,A]" id="649042">is</a><span class="delimiter">)</span><span class="delimiter">)</span> =&gt; <a href="#648949" title="(e: Stream[E], i: scalaz.IterV[E,A])scalaz.IterV[E,A]">apply</a><span class="delimiter">(</span><a href="#649041" title="Stream[E]">es</a>, <a href="#649042" title="scalaz.IterV[E,A]">is</a><span class="delimiter">)</span>
       <span class="delimiter">}</span>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>

  <span class="keyword">val</span> <a title="scalaz.IterV[Int,List[Int]]" id="423185">list</a> = <a href="../Iteratee.scala.html#47438" title="[A, F[_]](implicit mon: scalaz.Monoid[F[A]], implicit pr: scalaz.Pure[F])scalaz.IterV[A,F[A]]">collect</a><a href="../Monoid.scala.html#114275" title="(implicit mon: scalaz.Monoid[List[Int]], implicit pr: scalaz.Pure[List])scalaz.IterV[Int,List[Int]]" class="delimiter">[</a><span title="Int">Int</span>, <span title="List">List</span><span class="delimiter">]</span>
  <span class="keyword">val</span> <a title="scalaz.IterV[Int,List[Int]]" id="423187">reverse</a> = <a href="../Iteratee.scala.html#47443" title="[A, F[_]](implicit r: scalaz.Reducer[A,F[A]])scalaz.IterV[A,F[A]]">reversed</a><span title="(implicit r: scalaz.Reducer[Int,List[Int]])scalaz.IterV[Int,List[Int]]" class="delimiter">[</span><span title="Int">Int</span>, <span title="List">List</span><span class="delimiter">]</span><span class="delimiter">(</span><a href="../Reducer.scala.html#40819" title="scalaz.Reducer[Int,List[Int]]">ListReducer</a><span class="delimiter">)</span>
  <span class="keyword">val</span> <a title="scalaz.IterV[Int,List[Option[Int]]]" id="423189">repeatHead</a> = <a href="../Iteratee.scala.html#47431" title="[E, A, F[_]](iter: scalaz.IterV[E,A])(implicit mon: scalaz.Monoid[F[A]], implicit pr: scalaz.Pure[F])scalaz.IterV[E,F[A]]">repeat</a><span title="(iter: scalaz.IterV[Int,Option[Int]])(implicit mon: scalaz.Monoid[List[Option[Int]]], implicit pr: scalaz.Pure[List])scalaz.IterV[Int,List[Option[Int]]]" class="delimiter">[</span><span title="Int">Int</span>, <span title="Option[Int]">Option</span><span class="delimiter">[</span>Int<span class="delimiter">]</span>, <span title="List">List</span><span class="delimiter">]</span><a href="../Monoid.scala.html#114275" title="(implicit s: scalaz.Semigroup[List[Option[Int]]], implicit z: scalaz.Zero[List[Option[Int]]])scalaz.Monoid[List[Option[Int]]]" class="delimiter">(</a><a href="../Iteratee.scala.html#47404" title="scalaz.IterV[Int,Option[Int]]">head</a><span class="delimiter">)</span>

  <span class="keyword">def</span> <a title="=&gt; Unit" id="423191">run</a> <span class="delimiter">{</span>
    <a href="../Iteratee.scala.html#47479" title="(f: scala.collection.immutable.Stream[Int])(implicit e: scalaz.Enumerator[scala.collection.immutable.Stream])scalaz.IterV[Int,Option[Int]]">head</a><a href="#423183" title="=&gt; java.lang.Object with scalaz.Enumerator[Stream]" class="delimiter">(</a><span title="(xs: Int*)scala.collection.immutable.Stream[Int]">Stream</span><span class="delimiter">(</span><span title="Int(1)" class="int">1</span>, <span title="Int(2)" class="int">2</span>, <span title="Int(3)" class="int">3</span><span class="delimiter">)</span><span class="delimiter">)</span>.<a href="../Identity.scala.html#40089" title="(x: =&gt; Option[Int])scalaz.Identity[Option[Int]]">run</a> <a href="../Identity.scala.html#48593" title="(b: Some[Int])(implicit e: scalaz.Equal[Option[Int]], implicit s: scalaz.Show[Option[Int]], implicit ev: &lt;:&lt;[Some[Int],Option[Int]])Unit">assert_===</a> <span title="(x: Int)Some[Int]">Some</span><span class="delimiter">(</span><span title="Int(1)" class="int">1</span><span class="delimiter">)</span>
    <a href="../Iteratee.scala.html#47479" title="(f: scala.collection.immutable.Stream[Int])(implicit e: scalaz.Enumerator[scala.collection.immutable.Stream])scalaz.IterV[Int,Int]">length</a><a href="#423183" title="=&gt; java.lang.Object with scalaz.Enumerator[Stream]" class="delimiter">(</a><span title="(xs: Int*)scala.collection.immutable.Stream[Int]">Stream</span><span class="delimiter">(</span><span title="Int(10)" class="int">10</span>, <span title="Int(20)" class="int">20</span>, <span title="Int(30)" class="int">30</span><span class="delimiter">)</span><span class="delimiter">)</span>.<a href="../Identity.scala.html#40089" title="(x: =&gt; Int)scalaz.Identity[Int]">run</a> <a href="../Identity.scala.html#48593" title="(b: Int)(implicit e: scalaz.Equal[Int], implicit s: scalaz.Show[Int], implicit ev: &lt;:&lt;[Int,Int])Unit">assert_===</a> <span title="Int(3)" class="int">3</span>
    <a href="../Iteratee.scala.html#47479" title="(f: scala.collection.immutable.Stream[Int])(implicit e: scalaz.Enumerator[scala.collection.immutable.Stream])scalaz.IterV[Int,Option[Int]]">peek</a><a href="#423183" title="=&gt; java.lang.Object with scalaz.Enumerator[Stream]" class="delimiter">(</a><span title="(xs: Int*)scala.collection.immutable.Stream[Int]">Stream</span><span class="delimiter">(</span><span title="Int(1)" class="int">1</span>, <span title="Int(2)" class="int">2</span>, <span title="Int(3)" class="int">3</span><span class="delimiter">)</span><span class="delimiter">)</span>.<a href="../Identity.scala.html#40089" title="(x: =&gt; Option[Int])scalaz.Identity[Option[Int]]">run</a> <a href="../Identity.scala.html#48593" title="(b: Some[Int])(implicit e: scalaz.Equal[Option[Int]], implicit s: scalaz.Show[Option[Int]], implicit ev: &lt;:&lt;[Some[Int],Option[Int]])Unit">assert_===</a> <span title="(x: Int)Some[Int]">Some</span><span class="delimiter">(</span><span title="Int(1)" class="int">1</span><span class="delimiter">)</span>
    <a href="../Iteratee.scala.html#47479" title="(f: scala.collection.immutable.Stream[Int])(implicit e: scalaz.Enumerator[scala.collection.immutable.Stream])scalaz.IterV[Int,Option[Int]]">head</a><a href="#423183" title="=&gt; java.lang.Object with scalaz.Enumerator[Stream]" class="delimiter">(</a><span title="[A](xs: A*)scala.collection.immutable.Stream[A]">Stream</span><span title="(xs: Int*)scala.collection.immutable.Stream[Int]" class="delimiter">[</span><span title="Int">Int</span><span class="delimiter">]</span><span class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span>.<a href="../Identity.scala.html#40089" title="(x: =&gt; Option[Int])scalaz.Identity[Option[Int]]">run</a> <a href="../Identity.scala.html#48593" title="(b: Option[Int])(implicit e: scalaz.Equal[Option[Int]], implicit s: scalaz.Show[Option[Int]], implicit ev: &lt;:&lt;[Option[Int],Option[Int]])Unit">assert_===</a> <a href="../OptionW.scala.html#40779" title="[A]=&gt; Option[A]">none</a><span title="Option[Int]" class="delimiter">[</span><span title="Int">Int</span><span class="delimiter">]</span>
    <a href="../Iteratee.scala.html#47479" title="(f: scala.collection.immutable.Stream[Int])(implicit e: scalaz.Enumerator[scala.collection.immutable.Stream])scalaz.IterV[Int,List[Int]]">list</a><a href="#423183" title="=&gt; java.lang.Object with scalaz.Enumerator[Stream]" class="delimiter">(</a><span title="(xs: Int*)scala.collection.immutable.Stream[Int]">Stream</span><span class="delimiter">(</span><span title="Int(1)" class="int">1</span>, <span title="Int(2)" class="int">2</span>, <span title="Int(3)" class="int">3</span><span class="delimiter">)</span><span class="delimiter">)</span>.<a href="../Identity.scala.html#40089" title="(x: =&gt; List[Int])scalaz.Identity[List[Int]]">run</a> <a href="../Identity.scala.html#48593" title="(b: List[Int])(implicit e: scalaz.Equal[List[Int]], implicit s: scalaz.Show[List[Int]], implicit ev: &lt;:&lt;[List[Int],List[Int]])Unit">assert_===</a> <span title="(xs: Int*)List[Int]">List</span><span class="delimiter">(</span><span title="Int(1)" class="int">1</span>, <span title="Int(2)" class="int">2</span>, <span title="Int(3)" class="int">3</span><span class="delimiter">)</span>
    <a href="../Iteratee.scala.html#47479" title="(f: scala.collection.immutable.Stream[Int])(implicit e: scalaz.Enumerator[scala.collection.immutable.Stream])scalaz.IterV[Int,List[Option[Int]]]">repeatHead</a><a href="#423183" title="=&gt; java.lang.Object with scalaz.Enumerator[Stream]" class="delimiter">(</a><span title="(xs: Int*)scala.collection.immutable.Stream[Int]">Stream</span><span class="delimiter">(</span><span title="Int(1)" class="int">1</span>, <span title="Int(2)" class="int">2</span>, <span title="Int(3)" class="int">3</span><span class="delimiter">)</span><span class="delimiter">)</span>.<a href="../Identity.scala.html#40089" title="(x: =&gt; List[Option[Int]])scalaz.Identity[List[Option[Int]]]">run</a> <a href="../Identity.scala.html#48593" title="(b: List[Some[Int]])(implicit e: scalaz.Equal[List[Option[Int]]], implicit s: scalaz.Show[List[Option[Int]]], implicit ev: &lt;:&lt;[List[Some[Int]],List[Option[Int]]])Unit">assert_===</a> <span title="(xs: Some[Int]*)List[Some[Int]]">List</span><span class="delimiter">(</span><span title="(x: Int)Some[Int]">Some</span><span class="delimiter">(</span><span title="Int(1)" class="int">1</span><span class="delimiter">)</span>, <span title="(x: Int)Some[Int]">Some</span><span class="delimiter">(</span><span title="Int(2)" class="int">2</span><span class="delimiter">)</span>, <span title="(x: Int)Some[Int]">Some</span><span class="delimiter">(</span><span title="Int(3)" class="int">3</span><span class="delimiter">)</span><span class="delimiter">)</span>
    <a href="../Iteratee.scala.html#47479" title="(f: scala.collection.immutable.Stream[Int])(implicit e: scalaz.Enumerator[scala.collection.immutable.Stream])scalaz.IterV[Int,List[Int]]">reverse</a><a href="#423183" title="=&gt; java.lang.Object with scalaz.Enumerator[Stream]" class="delimiter">(</a><span title="(xs: Int*)scala.collection.immutable.Stream[Int]">Stream</span><span class="delimiter">(</span><span title="Int(1)" class="int">1</span>, <span title="Int(2)" class="int">2</span>, <span title="Int(3)" class="int">3</span><span class="delimiter">)</span><span class="delimiter">)</span>.<a href="../Identity.scala.html#40089" title="(x: =&gt; List[Int])scalaz.Identity[List[Int]]">run</a> <a href="../Identity.scala.html#48593" title="(b: List[Int])(implicit e: scalaz.Equal[List[Int]], implicit s: scalaz.Show[List[Int]], implicit ev: &lt;:&lt;[List[Int],List[Int]])Unit">assert_===</a> <span title="(xs: Int*)List[Int]">List</span><span class="delimiter">(</span><span title="Int(3)" class="int">3</span>, <span title="Int(2)" class="int">2</span>, <span title="Int(1)" class="int">1</span><span class="delimiter">)</span>

    <span class="comment">// As a monad</span>
    <span class="keyword">val</span> <a title="scalaz.IterV[Int,Option[(Int, Int)]]" id="650348">m1</a> = <a href="../Iteratee.scala.html#47404" title="[E]=&gt; scalaz.IterV[E,Option[E]]">head</a><a href="../MAB.scala.html#40360" title="(v: scalaz.IterV[Int,Option[Int]])scalaz.MA[[α]scalaz.IterV[Int,α],Option[Int]]" class="delimiter">[</a><span title="Int">Int</span><span class="delimiter">]</span> <a href="../MA.scala.html#64572" title="(f: Option[Int] =&gt; scalaz.IterV[Int,Option[(Int, Int)]])(implicit b: scalaz.Bind[[α]scalaz.IterV[Int,α]])scalaz.IterV[Int,Option[(Int, Int)]]">&gt;&gt;=</a> <span class="delimiter">(</span><span class="delimiter">(</span>b:<span title="Option[Int]">Option</span><span class="delimiter">[</span>Int<span class="delimiter">]</span><span class="delimiter">)</span> =&gt; <a href="../Iteratee.scala.html#47404" title="[E]=&gt; scalaz.IterV[E,Option[E]]">head</a><a href="../MAB.scala.html#40360" title="(v: scalaz.IterV[Int,Option[Int]])scalaz.MA[[α]scalaz.IterV[Int,α],Option[Int]]" class="delimiter">[</a><span title="Int">Int</span><span class="delimiter">]</span> <a href="../MA.scala.html#64478" title="(f: Option[Int] =&gt; Option[(Int, Int)])(implicit t: scalaz.Functor[[α]scalaz.IterV[Int,α]])scalaz.IterV[Int,Option[(Int, Int)]]">map</a> <span class="delimiter">(</span><a title="Option[Int]" id="656294">b2</a> =&gt; <span class="delimiter">(</span><a href="../MAB.scala.html#40157" title="(a: Option[Int])scalaz.MA[Option,Int]">b</a> <a href="../MA.scala.html#64528" title="(b: Option[Int])(implicit t: scalaz.Functor[Option], implicit a: scalaz.Apply[Option])Option[(Int, Int)]">&lt;|*|&gt;</a> <a href="#656294" title="Option[Int]">b2</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>
    <a href="../Iteratee.scala.html#47479" title="(f: scala.collection.immutable.Stream[Int])(implicit e: scalaz.Enumerator[scala.collection.immutable.Stream])scalaz.IterV[Int,Option[(Int, Int)]]">m1</a><a href="#423183" title="=&gt; java.lang.Object with scalaz.Enumerator[Stream]" class="delimiter">(</a><span title="(xs: Int*)scala.collection.immutable.Stream[Int]">Stream</span><span class="delimiter">(</span><span title="Int(1)" class="int">1</span>,<span title="Int(2)" class="int">2</span>,<span title="Int(3)" class="int">3</span><span class="delimiter">)</span><span class="delimiter">)</span>.<a href="../Identity.scala.html#40089" title="(x: =&gt; Option[(Int, Int)])scalaz.Identity[Option[(Int, Int)]]">run</a> <a href="../Identity.scala.html#48593" title="(b: Some[(Int, Int)])(implicit e: scalaz.Equal[Option[(Int, Int)]], implicit s: scalaz.Show[Option[(Int, Int)]], implicit ev: &lt;:&lt;[Some[(Int, Int)],Option[(Int, Int)]])Unit">assert_===</a> <span title="(x: (Int, Int))Some[(Int, Int)]">Some</span><span class="delimiter">(</span><span title="(x: Int)ArrowAssoc[Int]" class="int">1</span> <span title="(y: Int)(Int, Int)">-&gt;</span> <span title="Int(2)" class="int">2</span><span class="delimiter">)</span>
    
    
  <span class="delimiter">}</span>
<span class="delimiter">}</span>

        </pre>
    </body>
</html>