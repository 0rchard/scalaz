<?xml version="1.0" encoding="utf-8"?>
			<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
    <head>
        <meta http-equiv="Content-Type" content="text/html;charset=utf-8" ></meta>
        <title>scalaz/effects/IO.scala</title>
        <script type="text/javascript" src="../../jquery-all.js"></script>
        <script type="text/javascript" src="../../linked.js"></script>
        <link rel="stylesheet" type="text/css" href="../../style.css" title="Style"></link>
    </head>
    <body>
        <pre>
<span class="keyword">package</span> scalaz
<span class="keyword">package</span> effects

<span class="keyword">import</span> <a href="../Scalaz.scala.html#19508" title="object scalaz.Scalaz">Scalaz</a>._
<span class="keyword">import</span> <a href="../Free.scala.html#14810" title="object scalaz.Free">Free</a>._

<span class="keyword">sealed</span> <span class="keyword">trait</span> <a title="trait IO[A] extends java.lang.Object with ScalaObject" id="23045">IO</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="23407">A</a><span class="delimiter">]</span> <span title="ScalaObject" class="delimiter">{</span>
  <span class="keyword">private</span><span class="delimiter">[</span>effects<span class="delimiter">]</span> <span class="keyword">def</span> <a title="(rw: scalaz.effects.World[scalaz.effects.RealWorld])scalaz.Free.Trampoline[(scalaz.effects.World[scalaz.effects.RealWorld], A)]" id="412644">apply</a><span class="delimiter">(</span><a title="scalaz.effects.World[scalaz.effects.RealWorld]" id="412689">rw</a>: <a href="ST.scala.html#23294" title="scalaz.effects.World[scalaz.effects.RealWorld]">World</a><span class="delimiter">[</span>RealWorld<span class="delimiter">]</span><span class="delimiter">)</span>: <a href="../Free.scala.html#14809" title="scalaz.Free.Trampoline[(scalaz.effects.World[scalaz.effects.RealWorld], A)]">Trampoline</a><span class="delimiter">[</span><span class="delimiter">(</span>World<span class="delimiter">[</span>RealWorld<span class="delimiter">]</span>, A<span class="delimiter">)</span><span class="delimiter">]</span>
  <span class="comment">/**
   * Runs I/O and performs side-effects. An unsafe operation.
   * Do not call until the end of the universe.
   */</span>
  <span class="keyword">def</span> <a title="=&gt; A" id="412645">unsafePerformIO</a>: <a href="#23407" title="A">A</a> = <a href="#412644" title="(rw: scalaz.effects.World[scalaz.effects.RealWorld])scalaz.Free.Trampoline[(scalaz.effects.World[scalaz.effects.RealWorld], A)]">apply</a><span class="delimiter">(</span><a href="package.scala.html#28608" title="=&gt; scalaz.effects.World[scalaz.effects.RealWorld]">realWorld</a><span class="delimiter">)</span>.<a href="../Free.scala.html#181705" title="(implicit ev: scalaz.Liskov.&lt;~&lt;[scalaz.Free[Function0,(scalaz.effects.World[scalaz.effects.RealWorld], A)],scalaz.Free.Trampoline[(scalaz.effects.World[scalaz.effects.RealWorld], A)]], implicit S: scalaz.Functor[Function0])(scalaz.effects.World[scalaz.effects.RealWorld], A)">run</a>.<span title="=&gt; A">_2</span>

  <span class="comment">/**
   * Constructs an IO action whose steps may be interleaved with another.
   * An unsafe operation, since it exposes a trampoline that allows one to
   * step through the components of the IO action.
   */</span>
  <span class="keyword">def</span> <a title="=&gt; scalaz.effects.IO[scalaz.Free.Trampoline[A]]" id="412646">unsafeInterleaveIO</a>: <a href="#23045" title="scalaz.effects.IO[scalaz.Free.Trampoline[A]]">IO</a><span class="delimiter">[</span>Trampoline<span class="delimiter">[</span>A<span class="delimiter">]</span><span class="delimiter">]</span> = <a href="package.scala.html#28665" title="(a: =&gt; scalaz.Free[Function0,A])scalaz.effects.IO[scalaz.Free[Function0,A]]">io</a><span class="delimiter">(</span><a href="#412644" title="(rw: scalaz.effects.World[scalaz.effects.RealWorld])scalaz.Free.Trampoline[(scalaz.effects.World[scalaz.effects.RealWorld], A)]">apply</a><span class="delimiter">(</span><a href="package.scala.html#28608" title="=&gt; scalaz.effects.World[scalaz.effects.RealWorld]">realWorld</a><span class="delimiter">)</span>.<a href="../Free.scala.html#181691" title="(f: (scalaz.effects.World[scalaz.effects.RealWorld], A) =&gt; A)scalaz.Free[Function0,A]">map</a><span class="delimiter">(</span><a href="#413038" title="(scalaz.effects.World[scalaz.effects.RealWorld], A)">_</a>.<span title="=&gt; A">_2</span><span class="delimiter">)</span><span class="delimiter">)</span>

  <span class="comment">/**
   * Interleaves the steps of this IO action with the steps of another,
   * consuming the results of both with the given function.
   */</span>
  <span class="keyword">def</span> <a title="[B, C](iob: scalaz.effects.IO[B], f: (A, B) =&gt; C)scalaz.effects.IO[C]" id="412647">unsafeZipWith</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="412650">B</a>, <a title="&gt;: Nothing &lt;: Any" id="412651">C</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="scalaz.effects.IO[B]" id="413054">iob</a>: <a href="#23045" title="scalaz.effects.IO[B]">IO</a><span class="delimiter">[</span>B<span class="delimiter">]</span>, <a title="(A, B) =&gt; C" id="413055">f</a>: <span class="delimiter">(</span>A, B<span class="delimiter">)</span> =&gt; C<span class="delimiter">)</span>: <a href="#23045" title="scalaz.effects.IO[C]">IO</a><span class="delimiter">[</span>C<span class="delimiter">]</span> = <span class="delimiter">(</span><span class="keyword">for</span> <span class="delimiter">{</span>
    <a title="scalaz.Free.Trampoline[A]" id="413066">a</a> &lt;- <a href="#412652" title="(f: scalaz.Free.Trampoline[A] =&gt; scalaz.effects.IO[C])scalaz.effects.IO[C]">unsafeInterleaveIO</a>
    <a title="scalaz.Free.Trampoline[B]" id="413071">b</a> &lt;- <a href="#413054" title="scalaz.effects.IO[B]">iob</a>.<a href="#412652" title="(f: scalaz.Free.Trampoline[B] =&gt; scalaz.effects.IO[C])scalaz.effects.IO[C]">unsafeInterleaveIO</a>
    <a title="C" id="413388">c</a> &lt;- <a href="#413019" title="(f: scalaz.effects.World[scalaz.effects.RealWorld] =&gt; scalaz.Free.Trampoline[(scalaz.effects.World[scalaz.effects.RealWorld], C)])scalaz.effects.IO[C]">IO</a><a href="#412655" title="(f: C =&gt; C)scalaz.effects.IO[C]" class="delimiter">(</a><a title="scalaz.effects.World[scalaz.effects.RealWorld]" id="413078">rw</a> =&gt; <a href="#413066" title="scalaz.Free.Trampoline[A]">a</a> <a href="../Free.scala.html#181708" title="(tb: scalaz.Free[Function0,B], f: (A, B) =&gt; (scalaz.effects.World[scalaz.effects.RealWorld], C))(implicit S: scalaz.Functor[Function0])scalaz.Free[Function0,(scalaz.effects.World[scalaz.effects.RealWorld], C)]">zipWith</a> <span class="delimiter">(</span><a href="#413071" title="scalaz.Free.Trampoline[B]">b</a>, <span class="delimiter">(</span>x: <a href="#23407" title="A">A</a>, y: <a href="#412650" title="B">B</a><span class="delimiter">)</span> =&gt; <span class="delimiter">(</span><a href="#413078" title="(x: scalaz.effects.World[scalaz.effects.RealWorld])ArrowAssoc[scalaz.effects.World[scalaz.effects.RealWorld]]">rw</a> <span title="(y: C)(scalaz.effects.World[scalaz.effects.RealWorld], C)">-&gt;</span> <a href="#413055" title="(v1: A, v2: B)C">f</a><span class="delimiter">(</span><a href="#413087" title="A">x</a>, <a href="#413088" title="B">y</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>
  <span class="delimiter">}</span> <span class="keyword">yield</span> <a href="#413388" title="C">c</a><span class="delimiter">)</span>

  <span class="keyword">def</span> <a title="[B](f: A =&gt; scalaz.effects.IO[B])scalaz.effects.IO[B]" id="412652">flatMap</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="412654">B</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="A =&gt; scalaz.effects.IO[B]" id="413059">f</a>: A =&gt; IO<span class="delimiter">[</span>B<span class="delimiter">]</span><span class="delimiter">)</span>: <a href="#23045" title="scalaz.effects.IO[B]">IO</a><span class="delimiter">[</span>B<span class="delimiter">]</span> = <a href="#413019" title="(f: scalaz.effects.World[scalaz.effects.RealWorld] =&gt; scalaz.Free.Trampoline[(scalaz.effects.World[scalaz.effects.RealWorld], B)])scalaz.effects.IO[B]">IO</a><span class="delimiter">(</span><a title="scalaz.effects.World[scalaz.effects.RealWorld]" id="413395">rw</a> =&gt;
    <a href="#412644" title="(rw: scalaz.effects.World[scalaz.effects.RealWorld])scalaz.Free.Trampoline[(scalaz.effects.World[scalaz.effects.RealWorld], A)]">apply</a><span class="delimiter">(</span><a href="#413395" title="scalaz.effects.World[scalaz.effects.RealWorld]">rw</a><span class="delimiter">)</span> <a href="../Free.scala.html#181697" title="(f: (scalaz.effects.World[scalaz.effects.RealWorld], A) =&gt; scalaz.Free[Function0,(scalaz.effects.World[scalaz.effects.RealWorld], B)])scalaz.Free[Function0,(scalaz.effects.World[scalaz.effects.RealWorld], B)]">flatMap</a> <a href="#413400" title="scalaz.Free[Function0,(scalaz.effects.World[scalaz.effects.RealWorld], B)]" class="delimiter">{</a>
      <span class="keyword">case</span> <span title="scalaz.Free.Trampoline[(scalaz.effects.World[scalaz.effects.RealWorld], B)]" class="delimiter">(</span><a title="scalaz.effects.World[scalaz.effects.RealWorld]" id="413403">nw</a>, <a title="A" id="413404">a</a><span class="delimiter">)</span> =&gt; <a href="#413059" title="(v1: A)scalaz.effects.IO[B]">f</a><a href="#412644" title="(rw: scalaz.effects.World[scalaz.effects.RealWorld])scalaz.Free.Trampoline[(scalaz.effects.World[scalaz.effects.RealWorld], B)]" class="delimiter">(</a><a href="#413404" title="A">a</a><span class="delimiter">)</span><span class="delimiter">(</span><a href="#413403" title="scalaz.effects.World[scalaz.effects.RealWorld]">nw</a><span class="delimiter">)</span>
    <span class="delimiter">}</span><span class="delimiter">)</span>

  <span class="keyword">def</span> <a title="[B](f: A =&gt; B)scalaz.effects.IO[B]" id="412655">map</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="412657">B</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="A =&gt; B" id="413381">f</a>: A =&gt; B<span class="delimiter">)</span>: <a href="#23045" title="scalaz.effects.IO[B]">IO</a><span class="delimiter">[</span>B<span class="delimiter">]</span> = <a href="#413019" title="(f: scalaz.effects.World[scalaz.effects.RealWorld] =&gt; scalaz.Free.Trampoline[(scalaz.effects.World[scalaz.effects.RealWorld], B)])scalaz.effects.IO[B]">IO</a><span class="delimiter">(</span><a title="scalaz.effects.World[scalaz.effects.RealWorld]" id="413411">rw</a> =&gt;
    <a href="#412644" title="(rw: scalaz.effects.World[scalaz.effects.RealWorld])scalaz.Free.Trampoline[(scalaz.effects.World[scalaz.effects.RealWorld], A)]">apply</a><span class="delimiter">(</span><a href="#413411" title="scalaz.effects.World[scalaz.effects.RealWorld]">rw</a><span class="delimiter">)</span> <a href="../Free.scala.html#181691" title="(f: (scalaz.effects.World[scalaz.effects.RealWorld], A) =&gt; (scalaz.effects.World[scalaz.effects.RealWorld], B))scalaz.Free[Function0,(scalaz.effects.World[scalaz.effects.RealWorld], B)]">map</a> <a href="#413415" title="(scalaz.effects.World[scalaz.effects.RealWorld], B)" class="delimiter">{</a>
      <span class="keyword">case</span> <span title="(scalaz.effects.World[scalaz.effects.RealWorld], B)" class="delimiter">(</span><a title="scalaz.effects.World[scalaz.effects.RealWorld]" id="413418">nw</a>, <a title="A" id="413419">a</a><span class="delimiter">)</span> =&gt; <span title="(_1: scalaz.effects.World[scalaz.effects.RealWorld], _2: B)(scalaz.effects.World[scalaz.effects.RealWorld], B)" class="delimiter">(</span><a href="#413418" title="scalaz.effects.World[scalaz.effects.RealWorld]">nw</a>, <a href="#413381" title="(v1: A)B">f</a><span class="delimiter">(</span><a href="#413419" title="A">a</a><span class="delimiter">)</span><span class="delimiter">)</span>
    <span class="delimiter">}</span><span class="delimiter">)</span>

  <span class="comment">/** Executes the handler if an exception is raised. */</span>
  <span class="keyword">def</span> <a title="(handler: Throwable =&gt; scalaz.effects.IO[A])scalaz.effects.IO[A]" id="412658">except</a><span class="delimiter">(</span><a title="Throwable =&gt; scalaz.effects.IO[A]" id="413429">handler</a>: Throwable =&gt; IO<span class="delimiter">[</span>A<span class="delimiter">]</span><span class="delimiter">)</span>: <a href="#23045" title="scalaz.effects.IO[A]">IO</a><span class="delimiter">[</span>A<span class="delimiter">]</span> = 
    <a href="#413019" title="(f: scalaz.effects.World[scalaz.effects.RealWorld] =&gt; scalaz.Free.Trampoline[(scalaz.effects.World[scalaz.effects.RealWorld], A)])scalaz.effects.IO[A]">IO</a><span class="delimiter">(</span><a title="scalaz.effects.World[scalaz.effects.RealWorld]" id="413434">rw</a> =&gt; <span class="keyword">try</span> <span class="delimiter">{</span> <a href="../Free.scala.html#181775" title="(a: (scalaz.effects.World[scalaz.effects.RealWorld], A))scalaz.Free.Return[Function0,(scalaz.effects.World[scalaz.effects.RealWorld], A)]">Return</a><span class="delimiter">(</span><a href="#412644" title="(rw: scalaz.effects.World[scalaz.effects.RealWorld])scalaz.Free.Trampoline[(scalaz.effects.World[scalaz.effects.RealWorld], A)]" class="keyword">this</a><span class="delimiter">(</span><a href="#413434" title="scalaz.effects.World[scalaz.effects.RealWorld]">rw</a><span class="delimiter">)</span>.<a href="../Free.scala.html#181705" title="(implicit ev: scalaz.Liskov.&lt;~&lt;[scalaz.Free[Function0,(scalaz.effects.World[scalaz.effects.RealWorld], A)],scalaz.Free.Trampoline[(scalaz.effects.World[scalaz.effects.RealWorld], A)]], implicit S: scalaz.Functor[Function0])(scalaz.effects.World[scalaz.effects.RealWorld], A)">run</a><span class="delimiter">)</span> <span class="delimiter">}</span> <span class="keyword">catch</span> <span class="delimiter">{</span> <span class="keyword">case</span> <a title="scalaz.Free.Trampoline[(scalaz.effects.World[scalaz.effects.RealWorld], A)]" id="413700">e</a> =&gt; <a href="#413429" title="(v1: Throwable)scalaz.effects.IO[A]">handler</a><a href="#412644" title="(rw: scalaz.effects.World[scalaz.effects.RealWorld])scalaz.Free.Trampoline[(scalaz.effects.World[scalaz.effects.RealWorld], A)]" class="delimiter">(</a><a href="#413700" title="java.lang.Throwable">e</a><span class="delimiter">)</span><span class="delimiter">(</span><a href="#413434" title="scalaz.effects.World[scalaz.effects.RealWorld]">rw</a><span class="delimiter">)</span> <span class="delimiter">}</span><span class="delimiter">)</span>

  <span class="comment">/**
   * Executes the handler for exceptions that are raised and match the given predicate.
   * Other exceptions are rethrown.
   */</span>
  <span class="keyword">def</span> <a title="[B](p: Throwable =&gt; Option[B], handler: B =&gt; scalaz.effects.IO[A])scalaz.effects.IO[A]" id="412659">catchSome</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="412661">B</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="Throwable =&gt; Option[B]" id="413703">p</a>: Throwable =&gt; Option<span class="delimiter">[</span>B<span class="delimiter">]</span>, <a title="B =&gt; scalaz.effects.IO[A]" id="413704">handler</a>: B =&gt; IO<span class="delimiter">[</span>A<span class="delimiter">]</span><span class="delimiter">)</span>: <a href="#23045" title="scalaz.effects.IO[A]">IO</a><span class="delimiter">[</span>A<span class="delimiter">]</span> =
    <a href="#412658" title="(handler: Throwable =&gt; scalaz.effects.IO[A])scalaz.effects.IO[A]">except</a><span class="delimiter">(</span><a title="Throwable" id="413709">e</a> =&gt; <a href="#413703" title="(v1: Throwable)Option[B]">p</a><a href="../OptionW.scala.html#40773" title="(o: Option[B])scalaz.OptionW[B]" class="delimiter">(</a><a href="#413709" title="Throwable">e</a><span class="delimiter">)</span> <a href="../OptionW.scala.html#43999" title="(some: B =&gt; scalaz.effects.IO[A], none: =&gt; scalaz.effects.IO[A])scalaz.effects.IO[A]">cata</a> <span class="delimiter">(</span><a href="#413704" title="B =&gt; scalaz.effects.IO[A]">handler</a>, <span title="Nothing" class="keyword">throw</span> <a href="#413709" title="Throwable">e</a><span class="delimiter">)</span><span class="delimiter">)</span>

  <span class="comment">/**
   * Returns an Either result which is Right if no exception was raised, or Left if an
   * exception was raised.
   */</span>
  <span class="keyword">def</span> <a title="=&gt; scalaz.effects.IO[Either[Throwable,A]]" id="412662">catchLeft</a>: <a href="#23045" title="scalaz.effects.IO[Either[Throwable,A]]">IO</a><span class="delimiter">[</span>Either<span class="delimiter">[</span>Throwable, A<span class="delimiter">]</span><span class="delimiter">]</span> = <a href="#412655" title="(f: A =&gt; Either[Throwable,A])scalaz.effects.IO[Either[Throwable,A]]">map</a><span class="delimiter">(</span><a href="../Identity.scala.html#40089" title="(x: =&gt; A)scalaz.Identity[A]">_</a>.<a href="../Identity.scala.html#48666" title="[B]=&gt; Either[B,A]">right</a><span title="Either[Throwable,A]" class="delimiter">[</span><span title="Throwable">Throwable</span><span class="delimiter">]</span><span class="delimiter">)</span> <a href="#412658" title="(handler: Throwable =&gt; scalaz.effects.IO[Either[Throwable,A]])scalaz.effects.IO[Either[Throwable,A]]">except</a> <span class="delimiter">(</span><a href="../Identity.scala.html#40089" title="(x: =&gt; Throwable)scalaz.Identity[Throwable]">_</a>.<a href="../Identity.scala.html#40089" title="(x: =&gt; Either[Throwable,A])scalaz.Identity[Either[Throwable,A]]">left</a>.<a href="../Identity.scala.html#48585" title="[F[_]](implicit p: scalaz.Pure[F])F[Either[Throwable,A]]">pure</a><a href="#413022" title="(implicit p: scalaz.Pure[scalaz.effects.IO])scalaz.effects.IO[Either[Throwable,A]]" class="delimiter">[</a><a href="#23045" title="scalaz.effects.IO">IO</a><span class="delimiter">]</span><span class="delimiter">)</span>

  <span class="comment">/** Like &quot;catchLeft&quot; but takes a predicate to select which exceptions are caught. */</span>
  <span class="keyword">def</span> <a title="[B](p: Throwable =&gt; Option[B])scalaz.effects.IO[Either[B,A]]" id="412663">catchSomeLeft</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="412665">B</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="Throwable =&gt; Option[B]" id="414235">p</a>: Throwable =&gt; Option<span class="delimiter">[</span>B<span class="delimiter">]</span><span class="delimiter">)</span>: <a href="#23045" title="scalaz.effects.IO[Either[B,A]]">IO</a><span class="delimiter">[</span>Either<span class="delimiter">[</span>B, A<span class="delimiter">]</span><span class="delimiter">]</span> = <span class="keyword">for</span> <span class="delimiter">{</span>
    <a title="Either[Throwable,A]" id="414242">r</a> &lt;- <a href="#23045" title="IO.this.type" class="keyword">this</a>.<a href="#412652" title="(f: Either[Throwable,A] =&gt; scalaz.effects.IO[Either[B,A]])scalaz.effects.IO[Either[B,A]]">catchLeft</a>
    <a title="_1389" id="414998">x</a> &lt;- <a href="#414242" title="Either[Throwable,A]">r</a> <a href="#412655" title="(f: _1389 =&gt; Either[B,A])scalaz.effects.IO[Either[B,A]]" class="keyword">match</a> <span class="delimiter">{</span>
      <span class="keyword">case</span> <span title="scalaz.effects.IO[Right[Nothing,A]]">Right</span><span class="delimiter">(</span><a title="A" id="414244">v</a><span class="delimiter">)</span> =&gt; <span title="(b: A)Right[Nothing,A]">Right</span><a href="../Identity.scala.html#40089" title="(x: =&gt; Right[Nothing,A])scalaz.Identity[Right[Nothing,A]]" class="delimiter">(</a><a href="#414244" title="A">v</a><span class="delimiter">)</span>.<a href="../Identity.scala.html#48585" title="[F[_]](implicit p: scalaz.Pure[F])F[Right[Nothing,A]]">pure</a><a href="#413022" title="(implicit p: scalaz.Pure[scalaz.effects.IO])scalaz.effects.IO[Right[Nothing,A]]" class="delimiter">[</a><a href="#23045" title="scalaz.effects.IO">IO</a><span class="delimiter">]</span>
      <span class="keyword">case</span> <span title="scalaz.effects.IO[Left[B,A]]">Left</span><span class="delimiter">(</span><a title="Throwable" id="414580">e</a><span class="delimiter">)</span> =&gt; <a href="#414235" title="(v1: Throwable)Option[B]">p</a><a href="../OptionW.scala.html#40773" title="(o: Option[B])scalaz.OptionW[B]" class="delimiter">(</a><a href="#414580" title="Throwable">e</a><span class="delimiter">)</span> <a href="../OptionW.scala.html#43999" title="(some: B =&gt; scalaz.effects.IO[Left[B,A]], none: =&gt; scalaz.effects.IO[Left[B,A]])scalaz.effects.IO[Left[B,A]]">cata</a> <span class="delimiter">(</span><a title="B" id="414632">b</a> =&gt; <span title="[A, B](a: A)Left[A,B]">Left</span><span title="(a: B)Left[B,A]" class="delimiter">[</span><a href="#412665" title="B">B</a>, <a href="#23407" title="A">A</a><span class="delimiter">]</span><a href="../Identity.scala.html#40089" title="(x: =&gt; Left[B,A])scalaz.Identity[Left[B,A]]" class="delimiter">(</a><a href="#414632" title="B">b</a><span class="delimiter">)</span>.<a href="../Identity.scala.html#48585" title="[F[_]](implicit p: scalaz.Pure[F])F[Left[B,A]]">pure</a><a href="#413022" title="(implicit p: scalaz.Pure[scalaz.effects.IO])scalaz.effects.IO[Left[B,A]]" class="delimiter">[</a><a href="#23045" title="scalaz.effects.IO">IO</a><span class="delimiter">]</span>, <span title="Nothing" class="keyword">throw</span> <a href="#414580" title="Throwable">e</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span> <span class="keyword">yield</span> <a href="#414998" title="_1389">x</a>

  <span class="comment">/** Like &quot;finally&quot;, but only performs the final action if there was an exception. */</span>
  <span class="keyword">def</span> <a title="[B](action: scalaz.effects.IO[B])scalaz.effects.IO[A]" id="412666">onException</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="412668">B</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="scalaz.effects.IO[B]" id="415001">action</a>: <a href="#23045" title="scalaz.effects.IO[B]">IO</a><span class="delimiter">[</span>B<span class="delimiter">]</span><span class="delimiter">)</span>: <a href="#23045" title="scalaz.effects.IO[A]">IO</a><span class="delimiter">[</span>A<span class="delimiter">]</span> = <a href="#23045" title="IO.this.type" class="keyword">this</a> <a href="#412658" title="(handler: Throwable =&gt; scalaz.effects.IO[A])scalaz.effects.IO[A]">except</a> <span class="delimiter">(</span><a title="Throwable" id="415005">e</a> =&gt; <span class="keyword">for</span> <span class="delimiter">{</span>
    <a title="B" id="415010">_</a> &lt;- <a href="#412652" title="(f: B =&gt; scalaz.effects.IO[A])scalaz.effects.IO[A]">action</a>
    <a title="A" id="415014">a</a> &lt;- <span class="delimiter">(</span><span title="Nothing" class="keyword">throw</span> <a href="#415005" title="Throwable">e</a><span class="delimiter">)</span> : <a href="#23045" title="scalaz.effects.IO[A]">IO</a><span class="delimiter">[</span>A<span class="delimiter">]</span>
  <span class="delimiter">}</span> <span class="keyword">yield</span> <a href="#415014" title="A">a</a><span class="delimiter">)</span>

  <span class="comment">/**
   * Applies the &quot;during&quot; action, calling &quot;after&quot; regardless of whether there was an exception.
   * All exceptions are rethrown. Generalizes try/finally.
   */</span>
  <span class="keyword">def</span> <a title="[B, C](after: A =&gt; scalaz.effects.IO[B])(during: A =&gt; scalaz.effects.IO[C])scalaz.effects.IO[C]" id="412669">bracket</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="412672">B</a>, <a title="&gt;: Nothing &lt;: Any" id="412673">C</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="A =&gt; scalaz.effects.IO[B]" id="415017">after</a>: A =&gt; IO<span class="delimiter">[</span>B<span class="delimiter">]</span><span class="delimiter">)</span><span class="delimiter">(</span><a title="A =&gt; scalaz.effects.IO[C]" id="415018">during</a>: A =&gt; IO<span class="delimiter">[</span>C<span class="delimiter">]</span><span class="delimiter">)</span>: <a href="#23045" title="scalaz.effects.IO[C]">IO</a><span class="delimiter">[</span>C<span class="delimiter">]</span> = <span class="keyword">for</span> <span class="delimiter">{</span>
    <a title="A" id="415025">a</a> &lt;- <a href="#412652" title="(f: A =&gt; scalaz.effects.IO[C])scalaz.effects.IO[C]" class="keyword">this</a>
    <a title="C" id="415035">r</a> &lt;- <a href="#415018" title="(v1: A)scalaz.effects.IO[C]">during</a><span class="delimiter">(</span><a href="#415025" title="A">a</a><span class="delimiter">)</span> <a href="#412652" title="(f: C =&gt; scalaz.effects.IO[C])scalaz.effects.IO[C]">onException</a> <a href="#415017" title="(v1: A)scalaz.effects.IO[B]">after</a><span class="delimiter">(</span><a href="#415025" title="A">a</a><span class="delimiter">)</span>
    <a title="B" id="415040">_</a> &lt;- <a href="#415017" title="(v1: A)scalaz.effects.IO[B]">after</a><a href="#412655" title="(f: B =&gt; C)scalaz.effects.IO[C]" class="delimiter">(</a><a href="#415025" title="A">a</a><span class="delimiter">)</span>
  <span class="delimiter">}</span> <span class="keyword">yield</span> <a href="#415035" title="C">r</a>

  <span class="comment">/** Like &quot;bracket&quot;, but takes only a computation to run afterward. Generalizes &quot;finally&quot;. */</span>
  <span class="keyword">def</span> <a title="[B](sequel: scalaz.effects.IO[B])scalaz.effects.IO[A]" id="412674">ensuring</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="412676">B</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="scalaz.effects.IO[B]" id="415044">sequel</a>: <a href="#23045" title="scalaz.effects.IO[B]">IO</a><span class="delimiter">[</span>B<span class="delimiter">]</span><span class="delimiter">)</span>: <a href="#23045" title="scalaz.effects.IO[A]">IO</a><span class="delimiter">[</span>A<span class="delimiter">]</span> = <span class="keyword">for</span> <span class="delimiter">{</span>
    <a title="A" id="415053">r</a> &lt;- <a href="#412666" title="(action: scalaz.effects.IO[B])scalaz.effects.IO[A]">onException</a><a href="#412652" title="(f: A =&gt; scalaz.effects.IO[A])scalaz.effects.IO[A]" class="delimiter">(</a><a href="#415044" title="scalaz.effects.IO[B]">sequel</a><span class="delimiter">)</span>
    <a title="B" id="415058">_</a> &lt;- <a href="#412655" title="(f: B =&gt; A)scalaz.effects.IO[A]">sequel</a>
  <span class="delimiter">}</span> <span class="keyword">yield</span> <a href="#415053" title="A">r</a>

  <span class="comment">/** A variant of &quot;bracket&quot; where the return value of this computation is not needed. */</span>
  <span class="keyword">def</span> <a title="[B, C](after: scalaz.effects.IO[B])(during: scalaz.effects.IO[C])scalaz.effects.IO[C]" id="412677">bracket_</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="412680">B</a>, <a title="&gt;: Nothing &lt;: Any" id="412681">C</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="scalaz.effects.IO[B]" id="415061">after</a>: <a href="#23045" title="scalaz.effects.IO[B]">IO</a><span class="delimiter">[</span>B<span class="delimiter">]</span><span class="delimiter">)</span><span class="delimiter">(</span><a title="scalaz.effects.IO[C]" id="415062">during</a>: <a href="#23045" title="scalaz.effects.IO[C]">IO</a><span class="delimiter">[</span>C<span class="delimiter">]</span><span class="delimiter">)</span>: <a href="#23045" title="scalaz.effects.IO[C]">IO</a><span class="delimiter">[</span>C<span class="delimiter">]</span> =
    <a href="#412669" title="(after: A =&gt; scalaz.effects.IO[B])(during: A =&gt; scalaz.effects.IO[C])scalaz.effects.IO[C]">bracket</a><span class="delimiter">(</span><a title="A" id="415072">_</a> =&gt; <a href="#415061" title="scalaz.effects.IO[B]">after</a><span class="delimiter">)</span><span class="delimiter">(</span><a title="A" id="415076">_</a> =&gt; <a href="#415062" title="scalaz.effects.IO[C]">during</a><span class="delimiter">)</span>

  <span class="comment">/** A variant of &quot;bracket&quot; that performs the final action only if there was an error. */</span>
  <span class="keyword">def</span> <a title="[B, C](after: A =&gt; scalaz.effects.IO[B])(during: A =&gt; scalaz.effects.IO[C])scalaz.effects.IO[C]" id="412682">bracketOnError</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="412685">B</a>, <a title="&gt;: Nothing &lt;: Any" id="412686">C</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="A =&gt; scalaz.effects.IO[B]" id="415079">after</a>: A =&gt; IO<span class="delimiter">[</span>B<span class="delimiter">]</span><span class="delimiter">)</span><span class="delimiter">(</span><a title="A =&gt; scalaz.effects.IO[C]" id="415080">during</a>: A =&gt; IO<span class="delimiter">[</span>C<span class="delimiter">]</span><span class="delimiter">)</span>: <a href="#23045" title="scalaz.effects.IO[C]">IO</a><span class="delimiter">[</span>C<span class="delimiter">]</span> = <span class="keyword">for</span> <span class="delimiter">{</span>
    <a title="A" id="415087">a</a> &lt;- <a href="#412652" title="(f: A =&gt; scalaz.effects.IO[C])scalaz.effects.IO[C]" class="keyword">this</a>
    <a title="C" id="415097">r</a> &lt;- <a href="#415080" title="(v1: A)scalaz.effects.IO[C]">during</a><span class="delimiter">(</span><a href="#415087" title="A">a</a><span class="delimiter">)</span> <a href="#412655" title="(f: C =&gt; C)scalaz.effects.IO[C]">onException</a> <a href="#415079" title="(v1: A)scalaz.effects.IO[B]">after</a><span class="delimiter">(</span><a href="#415087" title="A">a</a><span class="delimiter">)</span>
  <span class="delimiter">}</span> <span class="keyword">yield</span> <a href="#415097" title="C">r</a>

<span class="delimiter">}</span>

<span class="comment">/** 
 * A mutable reference in the IO monad. Note that unsafePerformIO will allow leaking 
 * such a reference out of the monad, but any operations on a leaked reference are still monadic.
 */</span>
<span class="keyword">class</span> <a title="class IORef[A] extends java.lang.Object with scalaz.NewType[scalaz.effects.STRef[scalaz.effects.RealWorld,A]] with ScalaObject" id="23054">IORef</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="23408">A</a><span class="delimiter">]</span><a href="#23054" title="ScalaObject" class="delimiter">(</a><span class="keyword">val</span> <a title="scalaz.effects.STRef[scalaz.effects.RealWorld,A]" id="415109">value</a>: <a href="ST.scala.html#23288" title="scalaz.effects.STRef[scalaz.effects.RealWorld,A]">STRef</a><span class="delimiter">[</span>RealWorld, A<span class="delimiter">]</span><span class="delimiter">)</span> <span class="keyword">extends</span> <a href="../NewType.scala.html#18448" title="scalaz.NewType[scalaz.effects.STRef[scalaz.effects.RealWorld,A]]">NewType</a><span class="delimiter">[</span>STRef<span class="delimiter">[</span>RealWorld, A<span class="delimiter">]</span><span class="delimiter">]</span> <span class="delimiter">{</span>
  <span class="keyword">def</span> <a title="=&gt; scalaz.effects.IO[A]" id="415104">read</a>: <a href="#23045" title="scalaz.effects.IO[A]">IO</a><span class="delimiter">[</span>A<span class="delimiter">]</span> = <a href="package.scala.html#28659" title="(st: scalaz.effects.ST[scalaz.effects.RealWorld,A])scalaz.effects.IO[A]">stToIO</a><span class="delimiter">(</span><a href="#415109" title="=&gt; scalaz.effects.STRef[scalaz.effects.RealWorld,A]">value</a>.<a href="ST.scala.html#412732" title="=&gt; scalaz.effects.ST[scalaz.effects.RealWorld,A]">read</a><span class="delimiter">)</span>
  <span class="keyword">def</span> <a title="(a: =&gt; A)scalaz.effects.IO[Unit]" id="415105">write</a><span class="delimiter">(</span><a title="=&gt; A" id="415117">a</a>: =&gt; A<span class="delimiter">)</span>: <a href="#23045" title="scalaz.effects.IO[Unit]">IO</a><span class="delimiter">[</span>Unit<span class="delimiter">]</span> = <a href="package.scala.html#28659" title="(st: scalaz.effects.ST[scalaz.effects.RealWorld,Unit])scalaz.effects.IO[Unit]">stToIO</a><span class="delimiter">(</span><a href="#415109" title="=&gt; scalaz.effects.STRef[scalaz.effects.RealWorld,A]">value</a>.<a href="ST.scala.html#412736" title="(a: =&gt; A)scalaz.effects.ST[scalaz.effects.RealWorld,scalaz.effects.STRef[scalaz.effects.RealWorld,A]]">write</a><span class="delimiter">(</span><a href="#415117" title="=&gt; A">a</a><span class="delimiter">)</span> <a href="ST.scala.html#65580" title="(g: scalaz.effects.STRef[scalaz.effects.RealWorld,A] =&gt; Unit)scalaz.effects.ST[scalaz.effects.RealWorld,Unit]">map</a> <span class="delimiter">(</span><a title="scalaz.effects.STRef[scalaz.effects.RealWorld,A]" id="415131">_</a> =&gt; <span title="Unit" class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>
  <span class="keyword">def</span> <a title="(f: A =&gt; A)scalaz.effects.IO[A]" id="415106">mod</a><span class="delimiter">(</span><a title="A =&gt; A" id="415134">f</a>: A =&gt; A<span class="delimiter">)</span>: <a href="#23045" title="scalaz.effects.IO[A]">IO</a><span class="delimiter">[</span>A<span class="delimiter">]</span> = <a href="package.scala.html#28659" title="(st: scalaz.effects.ST[scalaz.effects.RealWorld,A])scalaz.effects.IO[A]">stToIO</a><span class="delimiter">(</span><a href="#415109" title="=&gt; scalaz.effects.STRef[scalaz.effects.RealWorld,A]">value</a>.<a href="ST.scala.html#412733" title="(f: A =&gt; A)scalaz.effects.ST[scalaz.effects.RealWorld,scalaz.effects.STRef[scalaz.effects.RealWorld,A]]">mod</a><a href="../MAB.scala.html#40285" title="(s: scalaz.effects.ST[scalaz.effects.RealWorld,scalaz.effects.STRef[scalaz.effects.RealWorld,A]])scalaz.MA[[α]scalaz.effects.ST[scalaz.effects.RealWorld,α],scalaz.effects.STRef[scalaz.effects.RealWorld,A]]" class="delimiter">(</a><a href="#415134" title="A =&gt; A">f</a><span class="delimiter">)</span> <a href="../MA.scala.html#64572" title="(f: scalaz.effects.STRef[scalaz.effects.RealWorld,A] =&gt; scalaz.effects.ST[scalaz.effects.RealWorld,A])(implicit b: scalaz.Bind[[α]scalaz.effects.ST[scalaz.effects.RealWorld,α]])scalaz.effects.ST[scalaz.effects.RealWorld,A]">&gt;&gt;=</a> <span class="delimiter">(</span><a href="#415283" title="scalaz.effects.STRef[scalaz.effects.RealWorld,A]">_</a>.<a href="ST.scala.html#412732" title="=&gt; scalaz.effects.ST[scalaz.effects.RealWorld,A]">read</a><span class="delimiter">)</span><span class="delimiter">)</span>
<span class="delimiter">}</span>

<span class="keyword">object</span> <a title="object scalaz.effects.IO" id="23046">IO</a> <span title="ScalaObject" class="delimiter">{</span>
  <span class="keyword">def</span> <a title="[A](f: scalaz.effects.World[scalaz.effects.RealWorld] =&gt; scalaz.Free.Trampoline[(scalaz.effects.World[scalaz.effects.RealWorld], A)])scalaz.effects.IO[A]" id="413019">apply</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="413021">A</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="scalaz.effects.World[scalaz.effects.RealWorld] =&gt; scalaz.Free.Trampoline[(scalaz.effects.World[scalaz.effects.RealWorld], A)]" id="413072">f</a>: World<span class="delimiter">[</span>RealWorld<span class="delimiter">]</span> =&gt; Trampoline<span class="delimiter">[</span><span class="delimiter">(</span>World<span class="delimiter">[</span>RealWorld<span class="delimiter">]</span>, A<span class="delimiter">)</span><span class="delimiter">]</span><span class="delimiter">)</span>: <a href="#23045" title="scalaz.effects.IO[A]">IO</a><span class="delimiter">[</span>A<span class="delimiter">]</span> = <a href="#415301" title="java.lang.Object with scalaz.effects.IO[A]" class="keyword">new</a> <a title="anonymous class $anon extends java.lang.Object with scalaz.effects.IO[A]" id="415301">IO</a><span class="delimiter">[</span>A<span class="delimiter">]</span> <span class="delimiter">{</span>
    <span class="keyword">private</span><span class="delimiter">[</span>effects<span class="delimiter">]</span> <span class="keyword">def</span> <a title="(rw: scalaz.effects.World[scalaz.effects.RealWorld])scalaz.Free.Trampoline[(scalaz.effects.World[scalaz.effects.RealWorld], A)]" id="415305">apply</a><span class="delimiter">(</span><a title="scalaz.effects.World[scalaz.effects.RealWorld]" id="415306">rw</a>: <a href="ST.scala.html#23294" title="scalaz.effects.World[scalaz.effects.RealWorld]">World</a><span class="delimiter">[</span>RealWorld<span class="delimiter">]</span><span class="delimiter">)</span> = <a href="#413072" title="(v1: scalaz.effects.World[scalaz.effects.RealWorld])scalaz.Free.Trampoline[(scalaz.effects.World[scalaz.effects.RealWorld], A)]">f</a><span class="delimiter">(</span><a href="#415306" title="scalaz.effects.World[scalaz.effects.RealWorld]">rw</a><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  <span class="keyword">implicit</span> <span class="keyword">val</span> <a title="scalaz.Pure[scalaz.effects.IO]" id="413022">ioPure</a>: <a href="../Pure.scala.html#19327" title="scalaz.Pure[scalaz.effects.IO]">Pure</a><span class="delimiter">[</span>IO<span class="delimiter">]</span> = <a href="#415312" title="java.lang.Object with scalaz.Pure[scalaz.effects.IO]" class="keyword">new</a> <a title="anonymous class $anon extends java.lang.Object with scalaz.Pure[scalaz.effects.IO]" id="415312">Pure</a><span class="delimiter">[</span>IO<span class="delimiter">]</span> <span class="delimiter">{</span>
    <span class="keyword">def</span> <a title="[A](a: =&gt; A)scalaz.effects.IO[A]" id="415316">pure</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="415318">A</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="=&gt; A" id="415319">a</a>: =&gt; A<span class="delimiter">)</span> = <a href="#413019" title="(f: scalaz.effects.World[scalaz.effects.RealWorld] =&gt; scalaz.Free.Trampoline[(scalaz.effects.World[scalaz.effects.RealWorld], A)])scalaz.effects.IO[A]">IO</a><span class="delimiter">(</span><a title="scalaz.effects.World[scalaz.effects.RealWorld]" id="415330">rw</a> =&gt; <a href="../Free.scala.html#181648" title="(value: =&gt; (scalaz.effects.World[scalaz.effects.RealWorld], A))(implicit S: scalaz.Pointed[Function0])scalaz.Free[Function0,(scalaz.effects.World[scalaz.effects.RealWorld], A)]">return_</a><a href="../Pointed.scala.html#185071" title="(implicit t: scalaz.Functor[Function0], implicit p: scalaz.Pure[Function0])scalaz.Pointed[Function0]" class="delimiter">(</a><span title="(_1: scalaz.effects.World[scalaz.effects.RealWorld], _2: A)(scalaz.effects.World[scalaz.effects.RealWorld], A)" class="delimiter">(</span><a href="#415330" title="scalaz.effects.World[scalaz.effects.RealWorld]">rw</a>, <a href="#415319" title="=&gt; A">a</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>
  <span class="delimiter">}</span>
  <span class="keyword">implicit</span> <span class="keyword">val</span> <a title="scalaz.Bind[scalaz.effects.IO]" id="413024">ioBind</a>: <a href="../Bind.scala.html#10177" title="scalaz.Bind[scalaz.effects.IO]">Bind</a><span class="delimiter">[</span>IO<span class="delimiter">]</span> = <a href="#415949" title="java.lang.Object with scalaz.Bind[scalaz.effects.IO]" class="keyword">new</a> <a title="anonymous class $anon extends java.lang.Object with scalaz.Bind[scalaz.effects.IO]" id="415949">Bind</a><span class="delimiter">[</span>IO<span class="delimiter">]</span> <span class="delimiter">{</span>
    <span class="keyword">def</span> <a title="[A, B](io: scalaz.effects.IO[A], f: A =&gt; scalaz.effects.IO[B])scalaz.effects.IO[B]" id="415953">bind</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="415956">A</a>, <a title="&gt;: Nothing &lt;: Any" id="415957">B</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="scalaz.effects.IO[A]" id="415958">io</a>: <a href="#23045" title="scalaz.effects.IO[A]">IO</a><span class="delimiter">[</span>A<span class="delimiter">]</span>, <a title="A =&gt; scalaz.effects.IO[B]" id="415959">f</a>: A =&gt; IO<span class="delimiter">[</span>B<span class="delimiter">]</span><span class="delimiter">)</span>: <a href="#23045" title="scalaz.effects.IO[B]">IO</a><span class="delimiter">[</span>B<span class="delimiter">]</span> = <a href="#415958" title="scalaz.effects.IO[A]">io</a> <a href="#412652" title="(f: A =&gt; scalaz.effects.IO[B])scalaz.effects.IO[B]">flatMap</a> <a href="#415959" title="A =&gt; scalaz.effects.IO[B]">f</a>
  <span class="delimiter">}</span>

  <span class="keyword">implicit</span> <span class="keyword">val</span> <a title="scalaz.Functor[scalaz.effects.IO]" id="413026">ioFunctor</a>: <a href="../Functor.scala.html#15118" title="scalaz.Functor[scalaz.effects.IO]">Functor</a><span class="delimiter">[</span>IO<span class="delimiter">]</span> = <a href="#415981" title="java.lang.Object with scalaz.Functor[scalaz.effects.IO]" class="keyword">new</a> <a title="anonymous class $anon extends java.lang.Object with scalaz.Functor[scalaz.effects.IO]" id="415981">Functor</a><span class="delimiter">[</span>IO<span class="delimiter">]</span> <span class="delimiter">{</span>
    <span class="keyword">def</span> <a title="[A, B](io: scalaz.effects.IO[A], f: A =&gt; B)scalaz.effects.IO[B]" id="415994">fmap</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="415997">A</a>, <a title="&gt;: Nothing &lt;: Any" id="415998">B</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="scalaz.effects.IO[A]" id="415999">io</a>: <a href="#23045" title="scalaz.effects.IO[A]">IO</a><span class="delimiter">[</span>A<span class="delimiter">]</span>, <a title="A =&gt; B" id="416000">f</a>: A =&gt; B<span class="delimiter">)</span>: <a href="#23045" title="scalaz.effects.IO[B]">IO</a><span class="delimiter">[</span>B<span class="delimiter">]</span> = <a href="#415999" title="scalaz.effects.IO[A]">io</a> <a href="#412655" title="(f: A =&gt; B)scalaz.effects.IO[B]">map</a> <a href="#416000" title="A =&gt; B">f</a> 
  <span class="delimiter">}</span>
<span class="delimiter">}</span>

        </pre>
    </body>
</html>