<?xml version="1.0" encoding="utf-8"?>
			<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
    <head>
        <meta http-equiv="Content-Type" content="text/html;charset=utf-8" ></meta>
        <title>scalaz/http/servlet/HttpServletResponse.scala</title>
        <script type="text/javascript" src="../../../jquery-all.js"></script>
        <script type="text/javascript" src="../../../linked.js"></script>
        <link rel="stylesheet" type="text/css" href="../../../style.css" title="Style"></link>
    </head>
    <body>
        <pre>
<span class="keyword">package</span> scalaz
<span class="keyword">package</span> http
<span class="keyword">package</span> servlet

<span class="keyword">import</span> javax.servlet.http.Cookie
<span class="keyword">import</span> response.Response
<span class="keyword">import</span> <a href="../Util.scala.html#25561" title="object scalaz.http.Util">Util</a>.<a href="../Util.scala.html#1106678" title="object scalaz.http.Util.Nel">Nel</a>._
<span class="keyword">import</span> <a href="../../Scalaz.scala.html#18009" title="object scalaz.Scalaz">Scalaz</a>._

<span class="comment">/**
 * A wrapper around Java Servlet &lt;code&gt;HttpServletResponse&lt;/code&gt;.
 *
 * @author &lt;a href=&quot;mailto:code@tmorris.net&quot;&gt;Tony Morris&lt;/a&gt;
 */</span>
<span class="keyword">sealed</span> <span class="keyword">trait</span> <a title="trait HttpServletResponse extends java.lang.Object with ScalaObject" id="25732">HttpServletResponse</a> <span title="ScalaObject" class="delimiter">{</span>
  <span class="comment">/**
   * The wrapped HTTP servlet response.
   */</span>
  <span class="keyword">val</span> <a title="=&gt; javax.servlet.http.HttpServletResponse" id="1106909">response</a>: javax.servlet.http.<span title="javax.servlet.http.HttpServletResponse">HttpServletResponse</span>

  <span class="comment">/**
   * Sets the given header to the given value on this response.
   */</span>
  <span class="keyword">def</span> <a title="(header: String, value: String)Unit" id="1106910">update</a><span class="delimiter">(</span><a title="String" id="1226871">header</a>: <span title="String">String</span>, <a title="String" id="1226872">value</a>: <span title="String">String</span><span class="delimiter">)</span> = <a href="#1106909" title="=&gt; javax.servlet.http.HttpServletResponse">response</a>.<span title="(x$1: java.lang.String, x$2: java.lang.String)Unit">setHeader</span><span class="delimiter">(</span><a href="#1226871" title="String">header</a>, <a href="#1226872" title="String">value</a><span class="delimiter">)</span>

  <span class="comment">/**
   * Sets the given header to the given values on this response.
   */</span>
  <span class="keyword">def</span> <a title="[V[_]](header: String, value: V[String])(implicit v: scalaz.Each[V])Unit" id="1106911">update</a><span class="delimiter">[</span><a title="[_]&gt;: Nothing &lt;: Any" id="1106913">V</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="1226881">_</a><span class="delimiter">]</span><span class="delimiter">]</span><span class="delimiter">(</span><a title="String" id="1226876">header</a>: <span title="String">String</span>, <a title="V[String]" id="1226877">value</a>: <a href="#1106913" title="V[String]">V</a><span class="delimiter">[</span>String<span class="delimiter">]</span><span class="delimiter">)</span><span class="delimiter">(</span><span class="keyword">implicit</span> <a title="scalaz.Each[V]" id="1226878">v</a>: <a href="../../Each.scala.html#9653" title="scalaz.Each[V]">Each</a><span class="delimiter">[</span>V<span class="delimiter">]</span><span class="delimiter">)</span> = <a href="#1226878" title="scalaz.Each[V]">v</a>.<a href="../../Each.scala.html#135515" title="[A](e: V[A], f: (A) =&gt; Unit)Unit">each</a><span title="(e: V[String], f: (String) =&gt; Unit)Unit" class="delimiter">[</span><span title="String">String</span><span class="delimiter">]</span><span class="delimiter">(</span><a href="#1226877" title="V[String]">value</a>, <a href="#1106909" title="=&gt; javax.servlet.http.HttpServletResponse">response</a>.<span title="(x$1: java.lang.String, x$2: java.lang.String)Unit">addHeader</span><span class="delimiter">(</span><a href="#1226876" title="String">header</a>, <a href="#1226887" title="String">_</a><span class="delimiter">)</span><span class="delimiter">)</span>

  <span class="comment">/**
   * Sets the given header to the given value on this response.
   */</span>
  <span class="keyword">def</span> <a title="(header: String, value: Int)Unit" id="1106914">update</a><span class="delimiter">(</span><a title="String" id="1226893">header</a>: <span title="String">String</span>, <a title="Int" id="1226894">value</a>: <span title="Int">Int</span><span class="delimiter">)</span> = <a href="#1106909" title="=&gt; javax.servlet.http.HttpServletResponse">response</a>.<span title="(x$1: java.lang.String, x$2: Int)Unit">setIntHeader</span><span class="delimiter">(</span><a href="#1226893" title="String">header</a>, <a href="#1226894" title="Int">value</a><span class="delimiter">)</span>

  <span class="comment">/**
   * Sets the given header to the given value on this response.
   */</span>
  <span class="keyword">def</span> <a title="(header: String, value: Long)Unit" id="1106915">update</a><span class="delimiter">(</span><a title="String" id="1226898">header</a>: <span title="String">String</span>, <a title="Long" id="1226899">value</a>: <span title="Long">Long</span><span class="delimiter">)</span> = <a href="#1106909" title="=&gt; javax.servlet.http.HttpServletResponse">response</a>.<span title="(x$1: java.lang.String, x$2: Long)Unit">setDateHeader</span><span class="delimiter">(</span><a href="#1226898" title="String">header</a>, <a href="#1226899" title="Long">value</a><span class="delimiter">)</span>

  <span class="comment">/**
   * Sets the given header to the given cookie value on this response.
   */</span>
  <span class="keyword">def</span> <a title="(header: String, cookie: javax.servlet.http.Cookie)Unit" id="1106916">update</a><span class="delimiter">(</span><a title="String" id="1226903">header</a>: <span title="String">String</span>, <a title="javax.servlet.http.Cookie" id="1226904">cookie</a>: <span title="javax.servlet.http.Cookie">Cookie</span><span class="delimiter">)</span> = <a href="#1106909" title="=&gt; javax.servlet.http.HttpServletResponse">response</a>.<span title="(x$1: javax.servlet.http.Cookie)Unit">addCookie</span><span class="delimiter">(</span><a href="#1226904" title="javax.servlet.http.Cookie">cookie</a><span class="delimiter">)</span>

  <span class="comment">/**
   * Side-effects against this HTTP servlet response using the given response.
   */</span>
  <span class="keyword">def</span> <a title="[OUT[_]](res: scalaz.http.response.Response[OUT])(implicit e: scalaz.Each[OUT])Unit" id="1106917">respond</a><span class="delimiter">[</span><a title="[_]&gt;: Nothing &lt;: Any" id="1106919">OUT</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="1147850">_</a><span class="delimiter">]</span><span class="delimiter">]</span><span class="delimiter">(</span><a title="scalaz.http.response.Response[OUT]" id="1147847">res</a>: <a href="../response/Response.scala.html#26677" title="scalaz.http.response.Response[OUT]">Response</a><span class="delimiter">[</span>OUT<span class="delimiter">]</span><span class="delimiter">)</span><span class="delimiter">(</span><span class="keyword">implicit</span> <a title="scalaz.Each[OUT]" id="1147848">e</a>: <a href="../../Each.scala.html#9653" title="scalaz.Each[OUT]">Each</a><span class="delimiter">[</span>OUT<span class="delimiter">]</span><span class="delimiter">)</span> <span class="delimiter">{</span>
    <a href="#1106909" title="=&gt; javax.servlet.http.HttpServletResponse">response</a>.<span title="(x$1: Int)Unit">setStatus</span><span class="delimiter">(</span><a href="#1147847" title="scalaz.http.response.Response[OUT]">res</a>.<a href="../response/Response.scala.html#1107827" title="=&gt; scalaz.http.response.StatusLine">line</a>.<a href="../response/Status.scala.html#1110743" title="implicit scalaz.http.response.Status.StatusInt : (s: scalaz.http.response.Status)Int">status</a><span class="delimiter">)</span>

    <a href="#1147847" title="scalaz.http.response.Response[OUT]">res</a>.<a href="../response/Response.scala.html#1107828" title="=&gt; List[(scalaz.http.response.ResponseHeader, scalaz.NonEmptyList[Char])]">headers</a>.<span title="(f: ((scalaz.http.response.ResponseHeader, scalaz.NonEmptyList[Char])) =&gt; Unit)Unit">foreach</span> <a href="#1226986" title="Unit" class="delimiter">{</a> <span class="keyword">case</span> <span title="Unit" class="delimiter">(</span><a title="scalaz.http.response.ResponseHeader" id="1226989">h</a>, <a title="scalaz.NonEmptyList[Char]" id="1226990">v</a><span class="delimiter">)</span> =&gt; <a href="#1106909" title="=&gt; javax.servlet.http.HttpServletResponse">response</a>.<span title="(x$1: java.lang.String, x$2: java.lang.String)Unit">setHeader</span><span class="delimiter">(</span><a href="../response/ResponseHeader.scala.html#1106427" title="implicit scalaz.http.response.ResponseHeaders.ResponseHeaderString : (rh: scalaz.http.response.ResponseHeader)String">h</a>, <a href="../Util.scala.html#1106686" title="(xs: scalaz.NonEmptyList[Char])List[Char]">v</a>.<span title="=&gt; String">mkString</span><span class="delimiter">)</span> <span class="delimiter">}</span>

    <span class="keyword">val</span> <a title="javax.servlet.ServletOutputStream" id="1226935">out</a> = <a href="#1106909" title="=&gt; javax.servlet.http.HttpServletResponse">response</a>.<span title="()javax.servlet.ServletOutputStream">getOutputStream</span>
    <a href="#1147848" title="scalaz.Each[OUT]">e</a>.<a href="../../Each.scala.html#135515" title="[A](e: OUT[A], f: (A) =&gt; Unit)Unit">each</a><span title="(e: OUT[Byte], f: (Byte) =&gt; Unit)Unit" class="delimiter">[</span><span title="Byte">Byte</span><span class="delimiter">]</span><span class="delimiter">(</span><a href="#1147847" title="scalaz.http.response.Response[OUT]">res</a>.<a href="../response/Response.scala.html#1107829" title="=&gt; OUT[Byte]">body</a>, <a href="#1226935" title="javax.servlet.ServletOutputStream">out</a>.<span title="(x$1: Int)Unit">write</span><span class="delimiter">(</span><a href="#1227270" title="=&gt; Int">_</a><span class="delimiter">)</span><span class="delimiter">)</span>
  <span class="delimiter">}</span>
<span class="delimiter">}</span>

<span class="comment">/**
 * A wrapper around Java Servlet &lt;code&gt;HttpServletResponse&lt;/code&gt;.
 */</span>
<span class="keyword">trait</span> <a title="trait HttpServletResponses extends java.lang.Object with ScalaObject" id="25738">HttpServletResponses</a> <span title="ScalaObject" class="delimiter">{</span>
  <span class="comment">/**
   * Wraps the given Java Servlet HTTP response.
   */</span>
  <span class="keyword">implicit</span> <span class="keyword">def</span> <a title="implicit scalaz.http.servlet.HttpServletResponses.HttpServletResponseResponse : (r: javax.servlet.http.HttpServletResponse)scalaz.http.servlet.HttpServletResponse" id="1106449">HttpServletResponseResponse</a><span class="delimiter">(</span><a title="javax.servlet.http.HttpServletResponse" id="1107003">r</a>: javax.servlet.http.<span title="javax.servlet.http.HttpServletResponse">HttpServletResponse</span><span class="delimiter">)</span>: <a href="#25732" title="scalaz.http.servlet.HttpServletResponse">HttpServletResponse</a> = <a href="#1227279" title="java.lang.Object with scalaz.http.servlet.HttpServletResponse{}" class="keyword">new</a> <a title="anonymous class $anon extends java.lang.Object with scalaz.http.servlet.HttpServletResponse" id="1227279">HttpServletResponse</a> <span class="delimiter">{</span>
    <span class="keyword">val</span> <a title="javax.servlet.http.HttpServletResponse" id="1227283">response</a> = <a href="#1107003" title="javax.servlet.http.HttpServletResponse">r</a>
  <span class="delimiter">}</span>

  <span class="comment">/**
   * Unwraps the given HTTP response into a servlet HTTP response.
   */</span>
  <span class="keyword">implicit</span> <span class="keyword">def</span> <a title="implicit scalaz.http.servlet.HttpServletResponses.ResponseHttpServletResponse : (response: scalaz.http.servlet.HttpServletResponse)javax.servlet.http.HttpServletResponse" id="1106450">ResponseHttpServletResponse</a><span class="delimiter">(</span><a title="scalaz.http.servlet.HttpServletResponse" id="1106905">response</a>: <a href="#25732" title="scalaz.http.servlet.HttpServletResponse">HttpServletResponse</a><span class="delimiter">)</span> = <a href="#1106905" title="scalaz.http.servlet.HttpServletResponse">response</a>.<a href="#1106909" title="=&gt; javax.servlet.http.HttpServletResponse">response</a>
<span class="delimiter">}</span>

<span class="keyword">object</span> <a title="object scalaz.http.servlet.HttpServletResponse" id="25733">HttpServletResponse</a> <span title="ScalaObject" class="keyword">extends</span> <a href="#25738" title="scalaz.http.servlet.HttpServletResponses">HttpServletResponse</a>s
        </pre>
    </body>
</html>