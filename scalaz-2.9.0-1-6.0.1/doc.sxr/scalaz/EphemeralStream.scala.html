<?xml version="1.0" encoding="utf-8"?>
			<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
    <head>
        <meta http-equiv="Content-Type" content="text/html;charset=utf-8" ></meta>
        <title>scalaz/EphemeralStream.scala</title>
        <script type="text/javascript" src="../jquery-all.js"></script>
        <script type="text/javascript" src="../linked.js"></script>
        <link rel="stylesheet" type="text/css" href="../style.css" title="Style"></link>
    </head>
    <body>
        <pre>
<span class="keyword">package</span> scalaz

<span class="keyword">import</span> <a href="Scalaz.scala.html#18009" title="object scalaz.Scalaz">Scalaz</a>._
<span class="keyword">import</span> java.lang.ref.WeakReference

<span class="keyword">object</span> <a title="object scalaz.EphemeralStream" id="9888">EphemeralStream</a> <span title="ScalaObject" class="delimiter">{</span>
  <span class="keyword">val</span> <a title="empty extends java.lang.Object with scalaz.EphemeralStream[scalaz.Scalaz.⊥]" id="48104">empty</a> = <a href="#140686" title="java.lang.Object with scalaz.EphemeralStream[scalaz.Scalaz.⊥]" class="keyword">new</a> <a title="anonymous class $anon extends java.lang.Object with scalaz.EphemeralStream[scalaz.Scalaz.⊥]" id="140686">EphemeralStream</a><span class="delimiter">[</span>⊥<span class="delimiter">]</span> <span class="delimiter">{</span>
    <span class="keyword">def</span> <a title="=&gt; Boolean" id="140688">isEmpty</a> = <span title="Boolean(true)" class="keyword">true</span>
    <span class="keyword">def</span> <a title="=&gt; () =&gt; scalaz.Scalaz.⊥" id="140689">head</a>: <span class="delimiter">(</span><span class="delimiter">)</span> =&gt; ⊥ = <span class="delimiter">(</span><span class="delimiter">)</span> =&gt; <span title="object scala.sys.package">sys</span>.<span title="(message: String)Nothing">error</span><span class="delimiter">(</span><span title="java.lang.String(&quot;head of empty stream&quot;)" class="string">&quot;head of empty stream&quot;</span><span class="delimiter">)</span>
    <span class="keyword">def</span> <a title="=&gt; () =&gt; scalaz.Scalaz.⊥" id="140690">tail</a>: <span class="delimiter">(</span><span class="delimiter">)</span> =&gt; ⊥ = <span class="delimiter">(</span><span class="delimiter">)</span> =&gt; <span title="object scala.sys.package">sys</span>.<span title="(message: String)Nothing">error</span><span class="delimiter">(</span><span title="java.lang.String(&quot;tail of empty stream&quot;)" class="string">&quot;tail of empty stream&quot;</span><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  <span class="keyword">object</span> <a title="object scalaz.EphemeralStream.cons" id="48106">cons</a> <span title="ScalaObject" class="delimiter">{</span>
    <span class="keyword">def</span> <a title="[A](a: =&gt; A, as: =&gt; scalaz.EphemeralStream[A])java.lang.Object with scalaz.EphemeralStream[A]" id="140725">apply</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="140727">A</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="=&gt; A" id="140730">a</a>: =&gt; A, <a title="=&gt; scalaz.EphemeralStream[A]" id="140731">as</a>: =&gt; EphemeralStream<span class="delimiter">[</span>A<span class="delimiter">]</span><span class="delimiter">)</span> = <a href="#140734" title="java.lang.Object with scalaz.EphemeralStream[A]{}" class="keyword">new</a> <a title="anonymous class $anon extends java.lang.Object with scalaz.EphemeralStream[A]" id="140734">EphemeralStream</a><span class="delimiter">[</span>A<span class="delimiter">]</span> <span class="delimiter">{</span>
      <span class="keyword">def</span> <a title="=&gt; Boolean" id="140736">isEmpty</a> = <span title="Boolean(false)" class="keyword">false</span>
      <span class="keyword">val</span> <a title="() =&gt; A" id="140737">head</a> = <a href="#48130" title="(f: =&gt; A)() =&gt; A">weakMemo</a><span class="delimiter">(</span><a href="#140730" title="=&gt; A">a</a><span class="delimiter">)</span>
      <span class="keyword">val</span> <a title="() =&gt; scalaz.EphemeralStream[A]" id="140739">tail</a> = <a href="#48130" title="(f: =&gt; scalaz.EphemeralStream[A])() =&gt; scalaz.EphemeralStream[A]">weakMemo</a><span class="delimiter">(</span><a href="#140731" title="=&gt; scalaz.EphemeralStream[A]">as</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>

  <span class="keyword">def</span> <a title="[A](as: A*)scalaz.EphemeralStream[A]" id="48108">apply</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="48110">A</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="A*" id="140772">as</a>: <span title="A*">A</span>*<span class="delimiter">)</span>: <a href="#9887" title="scalaz.EphemeralStream[A]">EphemeralStream</a><span class="delimiter">[</span>A<span class="delimiter">]</span> =
    <a href="#48115" title="(b: =&gt; Int, f: (Int) =&gt; Option[(A, Int)])scalaz.EphemeralStream[A]">unfold</a><span class="delimiter">(</span><span title="Int(0)" class="int">0</span>, <span class="delimiter">(</span>b: <span title="Int">Int</span><span class="delimiter">)</span> =&gt;
      <span title="Option[(A, Int)]" class="keyword">if</span> <span class="delimiter">(</span><a href="#140785" title="Int">b</a> <span title="(x: Int)Boolean">&lt;</span> <a href="#140772" title="A*">as</a>.<span title="=&gt; Int">size</span><span class="delimiter">)</span> <span title="(x: (A, Int))Some[(A, Int)]">Some</span><span class="delimiter">(</span><span title="(_1: A, _2: Int)(A, Int)" class="delimiter">(</span><a href="#140772" title="(idx: Int)A">as</a><span class="delimiter">(</span><a href="#140785" title="Int">b</a><span class="delimiter">)</span>, <a href="#140785" title="Int">b</a> <span title="(x: Int)Int">+</span> <span title="Int(1)" class="int">1</span><span class="delimiter">)</span><span class="delimiter">)</span>
      <span class="keyword">else</span> <span title="object None">None</span><span class="delimiter">)</span>

  <span class="keyword">implicit</span> <span class="keyword">val</span> <a title="scalaz.Pure[scalaz.EphemeralStream]" id="48111">ephemeralStreamPure</a>: <a href="Pure.scala.html#17828" title="scalaz.Pure[scalaz.EphemeralStream]">Pure</a><span class="delimiter">[</span>EphemeralStream<span class="delimiter">]</span> = <a href="#140849" title="java.lang.Object with scalaz.Pure[scalaz.EphemeralStream]" class="keyword">new</a> <a title="anonymous class $anon extends java.lang.Object with scalaz.Pure[scalaz.EphemeralStream]" id="140849">Pure</a><span class="delimiter">[</span>EphemeralStream<span class="delimiter">]</span> <span class="delimiter">{</span>
    <span class="keyword">def</span> <a title="[A](a: =&gt; A)scalaz.EphemeralStream[A]" id="140853">pure</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="140855">A</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="=&gt; A" id="140856">a</a>: =&gt; A<span class="delimiter">)</span> = <a href="#48108" title="(as: A*)scalaz.EphemeralStream[A]">EphemeralStream</a><span class="delimiter">(</span><a href="#140856" title="=&gt; A">a</a><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  <span class="keyword">implicit</span> <span class="keyword">val</span> <a title="scalaz.Bind[scalaz.EphemeralStream]" id="48113">ephemeralStreamBind</a>: <a href="Bind.scala.html#8810" title="scalaz.Bind[scalaz.EphemeralStream]">Bind</a><span class="delimiter">[</span>EphemeralStream<span class="delimiter">]</span> = <a href="#140876" title="java.lang.Object with scalaz.Bind[scalaz.EphemeralStream]" class="keyword">new</a> <a title="anonymous class $anon extends java.lang.Object with scalaz.Bind[scalaz.EphemeralStream]" id="140876">Bind</a><span class="delimiter">[</span>EphemeralStream<span class="delimiter">]</span> <span class="delimiter">{</span>
    <span class="keyword">def</span> <a title="[A, B](a: scalaz.EphemeralStream[A], f: (A) =&gt; scalaz.EphemeralStream[B])scalaz.EphemeralStream[B]" id="140880">bind</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="140883">A</a>, <a title="&gt;: Nothing &lt;: Any" id="140884">B</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="scalaz.EphemeralStream[A]" id="140885">a</a>: <a href="#9887" title="scalaz.EphemeralStream[A]">EphemeralStream</a><span class="delimiter">[</span>A<span class="delimiter">]</span>, <a title="(A) =&gt; scalaz.EphemeralStream[B]" id="140886">f</a>: A =&gt; EphemeralStream<span class="delimiter">[</span>B<span class="delimiter">]</span><span class="delimiter">)</span> =
      <a href="#140885" title="scalaz.EphemeralStream[A]">a</a>.<a href="#48003" title="(f: (A) =&gt; scalaz.EphemeralStream[B])scalaz.EphemeralStream[B]">flatMap</a><span class="delimiter">(</span><a href="#140886" title="(A) =&gt; scalaz.EphemeralStream[B]">f</a><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  <span class="keyword">def</span> <a title="[A, B](b: =&gt; B, f: (B) =&gt; Option[(A, B)])scalaz.EphemeralStream[A]" id="48115">unfold</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="48118">A</a>, <a title="&gt;: Nothing &lt;: Any" id="48119">B</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="=&gt; B" id="140775">b</a>: =&gt; B, <a title="(B) =&gt; Option[(A, B)]" id="140776">f</a>: B =&gt; Option<span class="delimiter">[</span><span class="delimiter">(</span>A, B<span class="delimiter">)</span><span class="delimiter">]</span><span class="delimiter">)</span>: <a href="#9887" title="scalaz.EphemeralStream[A]">EphemeralStream</a><span class="delimiter">[</span>A<span class="delimiter">]</span> =
    <a href="#140776" title="(v1: B)Option[(A, B)]">f</a><span class="delimiter">(</span><a href="#140775" title="=&gt; B">b</a><span class="delimiter">)</span> <span title="scalaz.EphemeralStream[A]" class="keyword">match</span> <span class="delimiter">{</span>
      <span class="keyword">case</span> <span title="empty extends java.lang.Object with scalaz.EphemeralStream[scalaz.Scalaz.⊥]">None</span> =&gt; <a href="#48104" title="=&gt; java.lang.Object with scalaz.EphemeralStream[scalaz.Scalaz.⊥]{def tail: () =&gt; scalaz.Scalaz.⊥}">empty</a>
      <span class="keyword">case</span> <span title="apply extends java.lang.Object with scalaz.EphemeralStream[A]">Some</span><span class="delimiter">(</span><span class="delimiter">(</span><a title="A" id="140926">a</a>, <a title="B" id="140927">r</a><span class="delimiter">)</span><span class="delimiter">)</span> =&gt; <a href="#140725" title="(a: =&gt; A, as: =&gt; scalaz.EphemeralStream[A])java.lang.Object with scalaz.EphemeralStream[A]">cons</a><span class="delimiter">(</span><a href="#140926" title="A">a</a>, <a href="#48115" title="(b: =&gt; B, f: (B) =&gt; Option[(A, B)])scalaz.EphemeralStream[A]">unfold</a><span class="delimiter">(</span><a href="#140927" title="B">r</a>, <a href="#140776" title="(B) =&gt; Option[(A, B)]">f</a><span class="delimiter">)</span><span class="delimiter">)</span>
    <span class="delimiter">}</span>

  <span class="keyword">def</span> <a title="[A](start: A)(f: (A) =&gt; A)scalaz.EphemeralStream[A]" id="48120">iterate</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="48122">A</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="A" id="140947">start</a>: <a href="#48122" title="A">A</a><span class="delimiter">)</span><span class="delimiter">(</span><a title="(A) =&gt; A" id="140948">f</a>: A =&gt; A<span class="delimiter">)</span>: <a href="#9887" title="scalaz.EphemeralStream[A]">EphemeralStream</a><span class="delimiter">[</span>A<span class="delimiter">]</span> =
    <a href="#48115" title="(b: =&gt; A, f: (A) =&gt; Option[(A, A)])scalaz.EphemeralStream[A]">unfold</a><span class="delimiter">(</span><a href="#140947" title="A">start</a>, <span class="delimiter">(</span>a: <a href="#48122" title="A">A</a><span class="delimiter">)</span> =&gt; <span class="delimiter">{</span>
      <span class="keyword">val</span> <a title="A" id="140958">fa</a> = <a href="#140948" title="(v1: A)A">f</a><span class="delimiter">(</span><a href="#140957" title="A">a</a><span class="delimiter">)</span>
      <span title="(x: (A, A))Some[(A, A)]">Some</span><span class="delimiter">(</span><span title="(_1: A, _2: A)(A, A)" class="delimiter">(</span><a href="#140958" title="A">fa</a>, <a href="#140958" title="A">fa</a><span class="delimiter">)</span><span class="delimiter">)</span>
    <span class="delimiter">}</span><span class="delimiter">)</span>

  <span class="keyword">def</span> <a title="(lower: Int, upper: Int)scalaz.EphemeralStream[Int]" id="48123">range</a><span class="delimiter">(</span><a title="Int" id="140975">lower</a>: <span title="Int">Int</span>, <a title="Int" id="140976">upper</a>: <span title="Int">Int</span><span class="delimiter">)</span>: <a href="#9887" title="scalaz.EphemeralStream[Int]">EphemeralStream</a><span class="delimiter">[</span>Int<span class="delimiter">]</span> =
    <span title="scalaz.EphemeralStream[Int]" class="keyword">if</span> <span class="delimiter">(</span><a href="#140975" title="Int">lower</a> <span title="(x: Int)Boolean">&gt;=</span> <a href="#140976" title="Int">upper</a><span class="delimiter">)</span> <a href="#48104" title="=&gt; java.lang.Object with scalaz.EphemeralStream[scalaz.Scalaz.⊥]{def tail: () =&gt; scalaz.Scalaz.⊥}">empty</a> <span class="keyword">else</span> <a href="#140725" title="(a: =&gt; Int, as: =&gt; scalaz.EphemeralStream[Int])java.lang.Object with scalaz.EphemeralStream[Int]">cons</a><span class="delimiter">(</span><a href="#140975" title="Int">lower</a>, <a href="#48123" title="(lower: Int, upper: Int)scalaz.EphemeralStream[Int]">range</a><span class="delimiter">(</span><a href="#140975" title="Int">lower</a> <span title="(x: Int)Int">+</span> <span title="Int(1)" class="int">1</span>, <a href="#140976" title="Int">upper</a><span class="delimiter">)</span><span class="delimiter">)</span>

  <span class="keyword">def</span> <a title="[A](s: =&gt; Stream[A])scalaz.EphemeralStream[A]" id="48124">fromStream</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="48126">A</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="=&gt; Stream[A]" id="141186">s</a>: =&gt; Stream<span class="delimiter">[</span>A<span class="delimiter">]</span><span class="delimiter">)</span>: <a href="#9887" title="scalaz.EphemeralStream[A]">EphemeralStream</a><span class="delimiter">[</span>A<span class="delimiter">]</span> = <a href="#141186" title="=&gt; Stream[A]">s</a> <span title="scalaz.EphemeralStream[A]" class="keyword">match</span> <span class="delimiter">{</span>
    <span class="keyword">case</span> <a href="#141191" title="empty extends java.lang.Object with scalaz.EphemeralStream[scalaz.Scalaz.⊥]">Stream</a><span class="delimiter">(</span><span class="delimiter">)</span> =&gt; <a href="#48104" title="=&gt; java.lang.Object with scalaz.EphemeralStream[scalaz.Scalaz.⊥]{def tail: () =&gt; scalaz.Scalaz.⊥}">empty</a>
    <span class="keyword">case</span> <a title="apply extends java.lang.Object with scalaz.EphemeralStream[A]" id="141236">h</a> <a href="#141219" title="(xs: scala.collection.immutable.Stream[A])Option[(A, scala.collection.immutable.Stream[A])]">#::</a> <a title="scala.collection.immutable.Stream[A]" id="141237">t</a> =&gt; <a href="#140725" title="(a: =&gt; A, as: =&gt; scalaz.EphemeralStream[A])java.lang.Object with scalaz.EphemeralStream[A]">cons</a><span class="delimiter">(</span><a href="#141236" title="A">h</a>, <a href="#48124" title="(s: =&gt; Stream[A])scalaz.EphemeralStream[A]">fromStream</a><span class="delimiter">(</span><a href="#141237" title="scala.collection.immutable.Stream[A]">t</a><span class="delimiter">)</span><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  <span class="keyword">implicit</span> <span class="keyword">def</span> <a title="[A](e: scalaz.EphemeralStream[A])Iterable[A]" id="48127">toIterable</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="48129">A</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="scalaz.EphemeralStream[A]" id="48135">e</a>: <a href="#9887" title="scalaz.EphemeralStream[A]">EphemeralStream</a><span class="delimiter">[</span>A<span class="delimiter">]</span><span class="delimiter">)</span>: <span title="Iterable[A]">Iterable</span><span class="delimiter">[</span>A<span class="delimiter">]</span> = <a href="#141267" title="java.lang.Object with Iterable[A]" class="keyword">new</a> <a title="anonymous class $anon extends java.lang.Object with Iterable[A]" id="141267">Iterable</a><span class="delimiter">[</span>A<span class="delimiter">]</span> <span class="delimiter">{</span>
    <span class="keyword">def</span> <a title="=&gt; java.lang.Object with Iterator[A]" id="141638">iterator</a> = <a href="#141660" title="java.lang.Object with Iterator[A]{}" class="keyword">new</a> <a title="anonymous class $anon extends java.lang.Object with Iterator[A]" id="141660">Iterator</a><span class="delimiter">[</span>A<span class="delimiter">]</span> <span class="delimiter">{</span>
      <span class="keyword">var</span> <a title="scalaz.EphemeralStream[A]" id="141832">cur</a> = <a href="#48135" title="scalaz.EphemeralStream[A]">e</a>
      <span class="keyword">def</span> <a title="()A" id="141834">next</a> = <span class="delimiter">{</span>
        <span class="keyword">val</span> <a title="A" id="141839">t</a> = <a href="#141832" title="=&gt; scalaz.EphemeralStream[A]">cur</a>.<a href="#47989" title="()A">head</a><span class="delimiter">(</span><span class="delimiter">)</span>
        <a href="#141832" title="(x$1: scalaz.EphemeralStream[A])Unit">cur</a> = <a href="#141832" title="=&gt; scalaz.EphemeralStream[A]">cur</a>.<a href="#47990" title="()scalaz.EphemeralStream[A]">tail</a><span class="delimiter">(</span><span class="delimiter">)</span>
        <a href="#141839" title="A">t</a>
      <span class="delimiter">}</span>
      <span class="keyword">def</span> <a title="=&gt; Boolean" id="141835">hasNext</a> = <span title="=&gt; Boolean">!</span><a href="#141832" title="=&gt; scalaz.EphemeralStream[A]">cur</a>.<a href="#47988" title="=&gt; Boolean">isEmpty</a>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>

  <span class="keyword">def</span> <a title="[V](f: =&gt; V)() =&gt; V" id="48130">weakMemo</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="48132">V</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="=&gt; V" id="140744">f</a>: =&gt; V<span class="delimiter">)</span>: <span class="delimiter">(</span><span class="delimiter">)</span> =&gt; V = <span class="delimiter">{</span>
    <span class="keyword">val</span> <a title="java.lang.Object" id="141863">latch</a> = <span title="java.lang.Object" class="keyword">new</span> <span title="java.lang.Object">Object</span>
    @volatile <span class="keyword">var</span> <a title="Option[java.lang.ref.WeakReference[V]]" id="141864">v</a>: <span title="Option[java.lang.ref.WeakReference[V]]">Option</span><span class="delimiter">[</span>WeakReference<span class="delimiter">[</span>V<span class="delimiter">]</span><span class="delimiter">]</span> = <span title="object None">None</span>
    <span class="delimiter">(</span><span class="delimiter">)</span> =&gt; <span class="delimiter">{</span>
      <span class="keyword">val</span> <a title="Option[V]" id="141911">a</a> = <a href="#141864" title="Option[java.lang.ref.WeakReference[V]]">v</a>.<span title="(f: (java.lang.ref.WeakReference[V]) =&gt; V)Option[V]">map</span><span class="delimiter">(</span><a title="java.lang.ref.WeakReference[V]" id="141916">x</a> =&gt; <a href="#141916" title="java.lang.ref.WeakReference[V]">x</a>.<span title="()V">get</span><span class="delimiter">)</span>
      <span title="V" class="keyword">if</span> <span class="delimiter">(</span><a href="#141911" title="Option[V]">a</a>.<span title="=&gt; Boolean">isDefined</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#141911" title="Option[V]">a</a>.<span title="=&gt; V">get</span> <span title="(x$1: Any)Boolean">!=</span> <span title="Null(null)" class="keyword">null</span><span class="delimiter">)</span> <a href="#141911" title="Option[V]">a</a>.<span title="=&gt; V">get</span> <span class="keyword">else</span> <a href="#141863" title="java.lang.Object">latch</a>.<span title="(x$1: V)V">synchronized</span> <span class="delimiter">{</span>
        <span class="keyword">val</span> <a title="V" id="141924">x</a> = <a href="#140744" title="=&gt; V">f</a>
        <a href="#141864" title="Option[java.lang.ref.WeakReference[V]]">v</a> = <span title="(x: java.lang.ref.WeakReference[V])Some[java.lang.ref.WeakReference[V]]">Some</span><span class="delimiter">(</span><span title="java.lang.ref.WeakReference[V]" class="keyword">new</span> <span title="java.lang.ref.WeakReference[V]">WeakReference</span><span class="delimiter">(</span><a href="#141924" title="V">x</a><span class="delimiter">)</span><span class="delimiter">)</span>
        <a href="#141924" title="V">x</a>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>

<span class="delimiter">}</span>

<span class="keyword">sealed</span> <span class="keyword">trait</span> <a title="trait EphemeralStream[+A] extends java.lang.Object with ScalaObject" id="9887">EphemeralStream</a><span class="delimiter">[</span>+<a title="&gt;: Nothing &lt;: Any" id="20551">A</a><span class="delimiter">]</span> <span title="ScalaObject" class="delimiter">{</span>
  <span class="keyword">import</span> <a href="#9888" title="object scalaz.EphemeralStream">EphemeralStream</a>._
  <span class="keyword">import</span> <a href="Scalaz.scala.html#18009" title="object scalaz.Scalaz">Scalaz</a>._

  <span class="keyword">def</span> <a title="=&gt; Boolean" id="47988">isEmpty</a>: <span title="Boolean">Boolean</span>
  <span class="keyword">def</span> <a title="=&gt; () =&gt; A" id="47989">head</a>: <span class="delimiter">(</span><span class="delimiter">)</span> =&gt; A
  <span class="keyword">def</span> <a title="=&gt; () =&gt; scalaz.EphemeralStream[A]" id="47990">tail</a>: <span class="delimiter">(</span><span class="delimiter">)</span> =&gt; EphemeralStream<span class="delimiter">[</span>A<span class="delimiter">]</span>
  <span class="keyword">def</span> <a title="=&gt; List[A]" id="47991">toList</a>: <span title="List[A]">List</span><span class="delimiter">[</span>A<span class="delimiter">]</span> = <span class="delimiter">{</span>
    <span class="keyword">def</span> <a title="(xs: =&gt; List[A])(x: =&gt; A)List[A]" id="141974">lcons</a><span class="delimiter">(</span><a title="=&gt; List[A]" id="141975">xs</a>: =&gt; List<span class="delimiter">[</span>A<span class="delimiter">]</span><span class="delimiter">)</span><span class="delimiter">(</span><a title="=&gt; A" id="141976">x</a>: =&gt; A<span class="delimiter">)</span> = <a href="#141976" title="=&gt; A">x</a> <a href="#141977" title="(x: A)List[A]">::</a> <a href="#141975" title="=&gt; List[A]">xs</a>
    <a href="#47995" title="(z: =&gt; List[A])(f: (=&gt; List[A]) =&gt; (=&gt; A) =&gt; List[A])List[A]">foldLeft</a><span class="delimiter">(</span><a href="ListW.scala.html#38600" title="[A]=&gt; List[A]">nil</a><span title="List[A]" class="delimiter">[</span><a href="#20551" title="A">A</a><span class="delimiter">]</span><span class="delimiter">)</span><span class="delimiter">(</span><a href="#141974" title="(xs: =&gt; List[A])(x: =&gt; A)List[A]">lcons</a> _<span class="delimiter">)</span>.<span title="=&gt; List[A]">reverse</span>
  <span class="delimiter">}</span>

  <span class="keyword">def</span> <a title="[B](z: =&gt; B)(f: (=&gt; A) =&gt; (=&gt; B) =&gt; B)B" id="47992">foldRight</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="47994">B</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="=&gt; B" id="142042">z</a>: =&gt; B<span class="delimiter">)</span><span class="delimiter">(</span><a title="(=&gt; A) =&gt; (=&gt; B) =&gt; B" id="142043">f</a>: <span class="delimiter">(</span>=&gt; A<span class="delimiter">)</span> =&gt; <span class="delimiter">(</span>=&gt; B<span class="delimiter">)</span> =&gt; B<span class="delimiter">)</span>: <a href="#47994" title="B">B</a> =
    <span title="B" class="keyword">if</span> <span class="delimiter">(</span><a href="#47988" title="=&gt; Boolean">isEmpty</a><span class="delimiter">)</span> <a href="#142042" title="=&gt; B">z</a> <span class="keyword">else</span> <a href="#142043" title="(v1: =&gt; A)(=&gt; B) =&gt; B">f</a><span title="(v1: =&gt; B)B" class="delimiter">(</span><a href="#47989" title="()A">head</a><span class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">(</span><a href="#47990" title="()scalaz.EphemeralStream[A]">tail</a><span class="delimiter">(</span><span class="delimiter">)</span>.<a href="#47992" title="(z: =&gt; B)(f: (=&gt; A) =&gt; (=&gt; B) =&gt; B)B">foldRight</a><span class="delimiter">(</span><a href="#142042" title="=&gt; B">z</a><span class="delimiter">)</span><span class="delimiter">(</span><a href="#142043" title="(=&gt; A) =&gt; (=&gt; B) =&gt; B">f</a><span class="delimiter">)</span><span class="delimiter">)</span>

  <span class="keyword">def</span> <a title="[B](z: =&gt; B)(f: (=&gt; B) =&gt; (=&gt; A) =&gt; B)B" id="47995">foldLeft</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="47997">B</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="=&gt; B" id="141984">z</a>: =&gt; B<span class="delimiter">)</span><span class="delimiter">(</span><a title="(=&gt; B) =&gt; (=&gt; A) =&gt; B" id="141985">f</a>: <span class="delimiter">(</span>=&gt; B<span class="delimiter">)</span> =&gt; <span class="delimiter">(</span>=&gt; A<span class="delimiter">)</span> =&gt; B<span class="delimiter">)</span>: <a href="#47997" title="B">B</a> = <span class="delimiter">{</span>
    <span class="keyword">var</span> <a title="scalaz.EphemeralStream[A]" id="142062">t</a> = <a href="#9887" title="scalaz.EphemeralStream[A]" class="keyword">this</a>
    <span class="keyword">var</span> <a title="B" id="142063">acc</a> = <a href="#141984" title="=&gt; B">z</a>
    <span title="Unit" class="keyword">while</span> <span class="delimiter">(</span><span title="=&gt; Boolean">!</span><a href="#142062" title="scalaz.EphemeralStream[A]">t</a>.<a href="#47988" title="=&gt; Boolean">isEmpty</a><span class="delimiter">)</span> <span class="delimiter">{</span>
      <a href="#142063" title="B">acc</a> = <a href="#141985" title="(v1: =&gt; B)(=&gt; A) =&gt; B">f</a><span title="(v1: =&gt; A)B" class="delimiter">(</span><a href="#142063" title="B">acc</a><span class="delimiter">)</span><span class="delimiter">(</span><a href="#142062" title="scalaz.EphemeralStream[A]">t</a>.<a href="#47989" title="()A">head</a><span class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span>
      <a href="#142062" title="scalaz.EphemeralStream[A]">t</a> = <a href="#142062" title="scalaz.EphemeralStream[A]">t</a>.<a href="#47990" title="()scalaz.EphemeralStream[A]">tail</a><span class="delimiter">(</span><span class="delimiter">)</span>
    <span class="delimiter">}</span>
    <a href="#142063" title="B">acc</a>
  <span class="delimiter">}</span>

  <span class="keyword">def</span> <a title="(p: (A) =&gt; Boolean)scalaz.EphemeralStream[A]" id="47998">filter</a><span class="delimiter">(</span><a title="(A) =&gt; Boolean" id="142072">p</a>: A =&gt; Boolean<span class="delimiter">)</span>: <a href="#9887" title="scalaz.EphemeralStream[A]">EphemeralStream</a><span class="delimiter">[</span>A<span class="delimiter">]</span> = <span class="delimiter">{</span>
    <span class="keyword">var</span> <a title="scalaz.EphemeralStream[A]" id="142074">rest</a> = <a href="#9887" title="EphemeralStream.this.type" class="keyword">this</a> <a href="#47999" title="(p: (A) =&gt; Boolean)scalaz.EphemeralStream[A]">dropWhile</a> <span class="delimiter">(</span><span title="=&gt; Boolean">!</span><a href="#142072" title="(v1: A)Boolean">p</a><span class="delimiter">(</span><a href="#142078" title="A">_</a><span class="delimiter">)</span><span class="delimiter">)</span>
    <span title="scalaz.EphemeralStream[A]" class="keyword">if</span> <span class="delimiter">(</span><a href="#142074" title="scalaz.EphemeralStream[A]">rest</a>.<a href="#47988" title="=&gt; Boolean">isEmpty</a><span class="delimiter">)</span> <a href="#48104" title="=&gt; java.lang.Object with scalaz.EphemeralStream[scalaz.Scalaz.⊥]{def tail: () =&gt; scalaz.Scalaz.⊥}">empty</a>
    <span class="keyword">else</span> <a href="#140725" title="(a: =&gt; A, as: =&gt; scalaz.EphemeralStream[A])java.lang.Object with scalaz.EphemeralStream[A]">cons</a><span class="delimiter">(</span><a href="#142074" title="scalaz.EphemeralStream[A]">rest</a>.<a href="#47989" title="()A">head</a><span class="delimiter">(</span><span class="delimiter">)</span>, <a href="#142074" title="scalaz.EphemeralStream[A]">rest</a>.<a href="#47990" title="()scalaz.EphemeralStream[A]">tail</a><span class="delimiter">(</span><span class="delimiter">)</span> <a href="#47998" title="(p: (A) =&gt; Boolean)scalaz.EphemeralStream[A]">filter</a> <a href="#142072" title="(A) =&gt; Boolean">p</a><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  <span class="keyword">def</span> <a title="(p: (A) =&gt; Boolean)scalaz.EphemeralStream[A]" id="47999">dropWhile</a><span class="delimiter">(</span><a title="(A) =&gt; Boolean" id="142075">p</a>: A =&gt; Boolean<span class="delimiter">)</span>: <a href="#9887" title="scalaz.EphemeralStream[A]">EphemeralStream</a><span class="delimiter">[</span>A<span class="delimiter">]</span> = <span class="delimiter">{</span>
    <span class="keyword">var</span> <a title="scalaz.EphemeralStream[A]" id="142095">these</a>: <a href="#9887" title="scalaz.EphemeralStream[A]">EphemeralStream</a><span class="delimiter">[</span>A<span class="delimiter">]</span> = <a href="#9887" title="scalaz.EphemeralStream[A]" class="keyword">this</a>
    <span title="Unit" class="keyword">while</span> <span class="delimiter">(</span><span title="=&gt; Boolean">!</span><a href="#142095" title="scalaz.EphemeralStream[A]">these</a>.<a href="#47988" title="=&gt; Boolean">isEmpty</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#142075" title="(v1: A)Boolean">p</a><span class="delimiter">(</span><a href="#142095" title="scalaz.EphemeralStream[A]">these</a>.<a href="#47989" title="()A">head</a><span class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span> <a href="#142095" title="scalaz.EphemeralStream[A]">these</a> = <a href="#142095" title="scalaz.EphemeralStream[A]">these</a>.<a href="#47990" title="()scalaz.EphemeralStream[A]">tail</a><span class="delimiter">(</span><span class="delimiter">)</span>
    <a href="#142095" title="scalaz.EphemeralStream[A]">these</a>
  <span class="delimiter">}</span>

  <span class="keyword">def</span> <a title="[BB &gt;: A](e: scalaz.EphemeralStream[BB])scalaz.EphemeralStream[BB]" id="48000">++</a><span class="delimiter">[</span><a title="&gt;: A &lt;: Any" id="48002">BB</a> &gt;: A<span class="delimiter">]</span><span class="delimiter">(</span><a title="scalaz.EphemeralStream[BB]" id="142103">e</a>: <a href="#9887" title="scalaz.EphemeralStream[BB]">EphemeralStream</a><span class="delimiter">[</span>BB<span class="delimiter">]</span><span class="delimiter">)</span>: <a href="#9887" title="scalaz.EphemeralStream[BB]">EphemeralStream</a><span class="delimiter">[</span>BB<span class="delimiter">]</span> =
    <a href="#47992" title="[B](z: =&gt; B)(f: (=&gt; A) =&gt; (=&gt; B) =&gt; B)B">foldRight</a><span title="(z: =&gt; scalaz.EphemeralStream[BB])(f: (=&gt; A) =&gt; (=&gt; scalaz.EphemeralStream[BB]) =&gt; scalaz.EphemeralStream[BB])scalaz.EphemeralStream[BB]" class="delimiter">[</span><a href="#9887" title="scalaz.EphemeralStream[BB]">EphemeralStream</a><span class="delimiter">[</span>BB<span class="delimiter">]</span><span class="delimiter">]</span><span class="delimiter">(</span><a href="#142103" title="scalaz.EphemeralStream[BB]">e</a><span class="delimiter">)</span><span class="delimiter">(</span><span class="delimiter">(</span><a href="#140725" title="[A](a: =&gt; A, as: =&gt; scalaz.EphemeralStream[A])java.lang.Object with scalaz.EphemeralStream[A]">cons</a><span title="(a: =&gt; BB, as: =&gt; scalaz.EphemeralStream[BB])java.lang.Object with scalaz.EphemeralStream[BB]" class="delimiter">[</span><a href="#48002" title="BB">BB</a><span class="delimiter">]</span><span class="delimiter">(</span><a href="#142113" title="=&gt; BB">_</a>, <a href="#142114" title="=&gt; scalaz.EphemeralStream[BB]">_</a><span class="delimiter">)</span><span class="delimiter">)</span>.<span title="=&gt; (=&gt; BB) =&gt; (=&gt; scalaz.EphemeralStream[BB]) =&gt; java.lang.Object with scalaz.EphemeralStream[BB]">curried</span><span class="delimiter">)</span>

  <span class="keyword">def</span> <a title="[B](f: (A) =&gt; scalaz.EphemeralStream[B])scalaz.EphemeralStream[B]" id="48003">flatMap</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="48005">B</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="(A) =&gt; scalaz.EphemeralStream[B]" id="140901">f</a>: A =&gt; EphemeralStream<span class="delimiter">[</span>B<span class="delimiter">]</span><span class="delimiter">)</span>: <a href="#9887" title="scalaz.EphemeralStream[B]">EphemeralStream</a><span class="delimiter">[</span>B<span class="delimiter">]</span> =
    <a href="#47992" title="[B](z: =&gt; B)(f: (=&gt; A) =&gt; (=&gt; B) =&gt; B)B">foldRight</a><span title="(z: =&gt; scalaz.EphemeralStream[B])(f: (=&gt; A) =&gt; (=&gt; scalaz.EphemeralStream[B]) =&gt; scalaz.EphemeralStream[B])scalaz.EphemeralStream[B]" class="delimiter">[</span><a href="#9887" title="scalaz.EphemeralStream[B]">EphemeralStream</a><span class="delimiter">[</span>B<span class="delimiter">]</span><span class="delimiter">]</span><span class="delimiter">(</span><a href="#48104" title="=&gt; java.lang.Object with scalaz.EphemeralStream[scalaz.Scalaz.⊥]{def tail: () =&gt; scalaz.Scalaz.⊥}">empty</a><span class="delimiter">)</span><span class="delimiter">(</span><a title="=&gt; A" id="142124">h</a> =&gt; <a title="=&gt; scalaz.EphemeralStream[B]" id="142126">t</a> =&gt; <a href="#140901" title="(v1: A)scalaz.EphemeralStream[B]">f</a><span class="delimiter">(</span><a href="#142124" title="=&gt; A">h</a><span class="delimiter">)</span> <a href="#48000" title="(e: scalaz.EphemeralStream[B])scalaz.EphemeralStream[B]">++</a> <a href="#142126" title="=&gt; scalaz.EphemeralStream[B]">t</a><span class="delimiter">)</span>

  <span class="keyword">def</span> <a title="[B](f: (A) =&gt; B)scalaz.EphemeralStream[B]" id="48006">map</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="48008">B</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="(A) =&gt; B" id="142136">f</a>: A =&gt; B<span class="delimiter">)</span>: <a href="#9887" title="scalaz.EphemeralStream[B]">EphemeralStream</a><span class="delimiter">[</span>B<span class="delimiter">]</span> =
    <a href="#48003" title="(f: (A) =&gt; scalaz.EphemeralStream[B])scalaz.EphemeralStream[B]">flatMap</a><span class="delimiter">(</span><a title="A" id="142142">x</a> =&gt; <a href="#48108" title="(as: B*)scalaz.EphemeralStream[B]">EphemeralStream</a><span class="delimiter">(</span><a href="#142136" title="(v1: A)B">f</a><span class="delimiter">(</span><a href="#142142" title="A">x</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>

  <span class="keyword">def</span> <a title="=&gt; Int" id="48009">length</a> = <span class="delimiter">{</span>
    <span class="keyword">def</span> <a title="(c: =&gt; Int)(a: =&gt; A)Int" id="142154">addOne</a><span class="delimiter">(</span><a title="=&gt; Int" id="142155">c</a>: =&gt; Int<span class="delimiter">)</span><span class="delimiter">(</span><a title="=&gt; A" id="142156">a</a>: =&gt; A<span class="delimiter">)</span> = <span title="Int(1)" class="int">1</span> <span title="(x: Int)Int">+</span> <a href="#142155" title="=&gt; Int">c</a>
    <a href="#47995" title="(z: =&gt; Int)(f: (=&gt; Int) =&gt; (=&gt; A) =&gt; Int)Int">foldLeft</a><span class="delimiter">(</span><span title="Int(0)" class="int">0</span><span class="delimiter">)</span><span class="delimiter">(</span><a href="#142154" title="(c: =&gt; Int)(a: =&gt; A)Int">addOne</a> _<span class="delimiter">)</span>
  <span class="delimiter">}</span>
<span class="delimiter">}</span>

        </pre>
    </body>
</html>